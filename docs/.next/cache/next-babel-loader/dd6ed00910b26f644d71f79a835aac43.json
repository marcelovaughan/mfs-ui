{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/Ad.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { withStyles } from \"../../../../packages/material-ui/src/styles\";\nimport Typography from \"../../../../packages/material-ui/src/Typography\";\nimport Paper from \"../../../../packages/material-ui/src/Paper\";\nimport AdCodeFund from \"./AdCodeFund\";\nimport AdCarbon from \"./AdCarbon\";\nimport AdInHouse from \"./AdInHouse\";\nimport { AdContext, adPlacement, adShape } from \"./AdManager\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      position: 'relative',\n      display: 'block'\n    },\n    'placement-body-image': {\n      margin: theme.spacing(4, 1, 3),\n      minHeight: 126\n    },\n    'placement-body-inline': {\n      margin: theme.spacing(4, 0, 3),\n      minHeight: 126,\n      display: 'flex',\n      alignItems: 'flex-end'\n    },\n    'placement-tocs-top-image': {\n      minHeight: 240\n    },\n    'placement-tocs-bottom-image': {\n      minHeight: 240\n    },\n    paper: {\n      padding: theme.spacing(1.5),\n      border: \"2px solid \".concat(theme.palette.primary.main),\n      display: 'block'\n    }\n  };\n};\n\nfunction PleaseDisableAdblock(props) {\n  var t = useSelector(function (state) {\n    return state.options.t;\n  });\n  return __jsx(Paper, _extends({\n    component: \"span\",\n    elevation: 0\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }), __jsx(Typography, {\n    variant: \"body2\",\n    display: \"block\",\n    component: \"span\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, t('likeMui')), __jsx(Typography, {\n    variant: \"body2\",\n    display: \"block\",\n    component: \"span\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, t('adblock')), __jsx(Typography, {\n    variant: \"body2\",\n    display: \"block\",\n    component: \"span\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, t('thanks'), ' ', __jsx(\"span\", {\n    role: \"img\",\n    \"aria-label\": t('emojiLove'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"\\u2764\\uFE0F\")));\n}\n\nvar disable = true && process.env.ENABLE_AD !== 'true';\nvar inHouseAds = [{\n  name: 'scaffoldhub',\n  link: 'https://scaffoldhub.io/?partner=1',\n  img: '/static/in-house/scaffoldhub.png',\n  description: '<b>Scaffold</b>. Automate building your full-stack Material-UI web-app.'\n}, {\n  name: 'templates',\n  link: 'https://material-ui.com/store/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-templates',\n  img: '/static/in-house/themes-2.jpg',\n  description: '<b>Premium Templates</b>. Start your project with the best templates for admins, dashboards and more.'\n}, {\n  name: 'themes',\n  link: 'https://material-ui.com/store/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-themes',\n  img: '/static/in-house/themes.png',\n  description: '<b>Premium Themes</b>. Kickstart your application development with a ready-made theme.'\n}, {\n  name: 'tidelift',\n  link: 'https://tidelift.com/subscription/pkg/npm-material-ui?utm_source=npm-material-ui&utm_medium=referral&utm_campaign=enterprise&utm_content=ad',\n  img: '/static/in-house/tidelift.png',\n  description: '<b>Material-UI for enterprise</b>. Save time and reduce risk. Managed open source — backed by maintainers.'\n}, {\n  name: 'sketch',\n  link: 'https://material-ui.com/store/items/sketch-react/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-sketch',\n  img: '/static/in-house/sketch.png',\n  description: '<b>Sketch</b>. A large UI kit with over 600 handcrafted Material-UI symbols 💎.'\n}, {\n  name: 'figma',\n  link: 'https://material-ui.com/store/items/figma-react/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-figma',\n  img: '/static/in-house/figma.png',\n  description: '<b>Figma</b>. A large UI kit with over 600 handcrafted Material-UI components 🎨.'\n}];\n\nfunction Ad(props) {\n  var placement = props.placement,\n      classes = props.classes;\n\n  var _React$useState = React.useState(null),\n      adblock = _React$useState[0],\n      setAdblock = _React$useState[1];\n\n  var _React$useState2 = React.useState(null),\n      carbonOut = _React$useState2[0],\n      setCarbonOut = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      codeFundOut = _React$useState3[0],\n      setCodeFundOut = _React$useState3[1];\n\n  var children; // Hide the content to google bot.\n\n  if (/Googlebot/.test(navigator.userAgent) || disable) {\n    children = __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 16\n      }\n    });\n  }\n\n  var _React$useRef = React.useRef(Math.random()),\n      randomAdblock = _React$useRef.current;\n\n  var _React$useRef2 = React.useRef(Math.random()),\n      randomInHouse = _React$useRef2.current;\n\n  var minHeight;\n\n  if (!children && adblock) {\n    minHeight = 'auto';\n\n    if (randomAdblock < 0.2) {\n      children = __jsx(PleaseDisableAdblock, {\n        className: classes.paper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 18\n        }\n      });\n    } else {\n      children = __jsx(AdInHouse, {\n        ad: inHouseAds[Math.floor(inHouseAds.length * randomInHouse)],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 18\n        }\n      });\n    }\n  }\n\n  var _React$useRef3 = React.useRef(Math.random()),\n      randomSplit = _React$useRef3.current;\n\n  if (!children) {\n    if (carbonOut || codeFundOut) {\n      children = __jsx(AdInHouse, {\n        ad: inHouseAds[Math.floor(inHouseAds.length * randomInHouse)],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 18\n        }\n      });\n      minHeight = 'auto';\n    } else if (randomSplit < 0.4) {\n      children = __jsx(AdCodeFund, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 18\n        }\n      });\n    } else {\n      children = __jsx(AdCarbon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 18\n        }\n      });\n    }\n  }\n\n  var getEventLabel = function getEventLabel() {\n    var label;\n\n    if (children.type === AdCodeFund) {\n      label = 'codefund';\n    } else if (children.type === AdCarbon) {\n      label = 'carbon';\n    } else if (children.type === AdInHouse) {\n      if (!adblock && codeFundOut) {\n        label = 'in-house-codefund';\n      } else if (!adblock && carbonOut) {\n        label = 'in-house-carbon';\n      } else {\n        label = 'in-house';\n      }\n    } else if (children.type === PleaseDisableAdblock) {\n      label = 'in-house-adblock';\n    }\n\n    return label;\n  };\n\n  var ad = React.useContext(AdContext);\n  var eventLabel = getEventLabel();\n  var eventValue = \"\".concat(adPlacement === 'body' ? ad.portal.placement : adPlacement, \"-\").concat(adShape);\n  var timerAdblock = React.useRef();\n  var checkAdblock = React.useCallback(function () {\n    var attempt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n    if (document.querySelector('.cf-wrapper') || document.querySelector('#carbonads') || codeFundOut || carbonOut) {\n      if (document.querySelector('#carbonads a') && document.querySelector('#carbonads a').getAttribute('href') === 'https://material-ui-next.com/discover-more/backers') {\n        setCarbonOut(true);\n      }\n\n      setAdblock(false);\n      return;\n    }\n\n    if (attempt < 30) {\n      timerAdblock.current = setTimeout(function () {\n        checkAdblock(attempt + 1);\n      }, 500);\n    }\n\n    if (attempt > 6) {\n      setAdblock(true);\n    }\n  }, [codeFundOut, carbonOut]);\n  React.useEffect(function () {\n    if (disable) {\n      return undefined;\n    }\n\n    checkAdblock();\n    return function () {\n      clearTimeout(timerAdblock.current);\n    };\n  }, [checkAdblock]);\n  React.useEffect(function () {\n    var handler = function handler(event) {\n      if (event.detail.status === 'no-advertiser') {\n        setCodeFundOut(true);\n      }\n    };\n\n    window.addEventListener('codefund', handler);\n    return function () {\n      window.removeEventListener('codefund', handler);\n    };\n  }, []);\n  React.useEffect(function () {\n    // Avoid an exceed on the Google Analytics quotas.\n    if (Math.random() < 0.9) {\n      return undefined;\n    }\n\n    var delay = setTimeout(function () {\n      if (!eventLabel) {\n        return;\n      }\n\n      window.ga('send', {\n        hitType: 'event',\n        eventCategory: 'ad',\n        eventAction: 'display',\n        eventLabel: eventLabel,\n        eventValue: eventValue\n      });\n\n      if (eventLabel.indexOf('in-house') === 0) {\n        window.ga('send', {\n          hitType: 'event',\n          eventCategory: 'in-house-ad',\n          eventAction: 'display',\n          eventLabel: children.props.ad.name,\n          eventValue: eventValue\n        });\n      }\n    }, 2500);\n    return function () {\n      clearTimeout(delay);\n    };\n  }, [eventLabel, children.props.ad, eventValue]); // Refresh the ad after 1m30.\n  // An approximation to trigger when coming back to the window tab \"after a while\".\n\n  var _React$useState4 = React.useState(0),\n      key = _React$useState4[0],\n      setKey = _React$useState4[1];\n\n  React.useEffect(function () {\n    var interval = setInterval(function () {\n      setKey(function (currentKey) {\n        return currentKey + 1;\n      });\n    }, 90000);\n    return function () {\n      clearInterval(interval);\n    };\n  }, []);\n\n  if (adPlacement !== placement) {\n    return null;\n  }\n\n  return __jsx(\"span\", {\n    className: clsx(classes.root, classes[\"placement-\".concat(adPlacement, \"-\").concat(adShape)]),\n    style: {\n      minHeight: adPlacement === 'body' ? minHeight : null\n    },\n    \"data-ga-event-category\": \"ad\",\n    \"data-ga-event-action\": \"click\"\n    /* advertiser network */\n    ,\n    \"data-ga-event-label\": eventLabel\n    /* docs placement */\n    ,\n    \"data-ga-event-value\": eventValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.cloneElement(children, {\n    key: key\n  }));\n}\n\nAd.propTypes = {\n  classes: PropTypes.object.isRequired,\n  placement: PropTypes.oneOf(['body', 'tocs-top', 'tocs-bottom']).isRequired\n};\nexport default /*#__PURE__*/React.memo(withStyles(styles)(Ad));","map":{"version":3,"sources":["/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/Ad.js"],"names":["React","clsx","PropTypes","useSelector","withStyles","Typography","Paper","AdCodeFund","AdCarbon","AdInHouse","AdContext","adPlacement","adShape","styles","theme","root","position","display","margin","spacing","minHeight","alignItems","paper","padding","border","palette","primary","main","PleaseDisableAdblock","props","t","state","options","disable","process","env","ENABLE_AD","inHouseAds","name","link","img","description","Ad","placement","classes","useState","adblock","setAdblock","carbonOut","setCarbonOut","codeFundOut","setCodeFundOut","children","test","navigator","userAgent","useRef","Math","random","randomAdblock","current","randomInHouse","floor","length","randomSplit","getEventLabel","label","type","ad","useContext","eventLabel","eventValue","portal","timerAdblock","checkAdblock","useCallback","attempt","document","querySelector","getAttribute","setTimeout","useEffect","undefined","clearTimeout","handler","event","detail","status","window","addEventListener","removeEventListener","delay","ga","hitType","eventCategory","eventAction","indexOf","key","setKey","interval","setInterval","currentKey","clearInterval","cloneElement","propTypes","object","isRequired","oneOf","memo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport AdCodeFund from 'docs/src/modules/components/AdCodeFund';\nimport AdCarbon from 'docs/src/modules/components/AdCarbon';\nimport AdInHouse from 'docs/src/modules/components/AdInHouse';\nimport { AdContext, adPlacement, adShape } from 'docs/src/modules/components/AdManager';\n\nconst styles = (theme) => ({\n  root: {\n    position: 'relative',\n    display: 'block',\n  },\n  'placement-body-image': {\n    margin: theme.spacing(4, 1, 3),\n    minHeight: 126,\n  },\n  'placement-body-inline': {\n    margin: theme.spacing(4, 0, 3),\n    minHeight: 126,\n    display: 'flex',\n    alignItems: 'flex-end',\n  },\n  'placement-tocs-top-image': {\n    minHeight: 240,\n  },\n  'placement-tocs-bottom-image': {\n    minHeight: 240,\n  },\n  paper: {\n    padding: theme.spacing(1.5),\n    border: `2px solid ${theme.palette.primary.main}`,\n    display: 'block',\n  },\n});\n\nfunction PleaseDisableAdblock(props) {\n  const t = useSelector((state) => state.options.t);\n\n  return (\n    <Paper component=\"span\" elevation={0} {...props}>\n      <Typography variant=\"body2\" display=\"block\" component=\"span\" gutterBottom>\n        {t('likeMui')}\n      </Typography>\n      <Typography variant=\"body2\" display=\"block\" component=\"span\" gutterBottom>\n        {t('adblock')}\n      </Typography>\n      <Typography variant=\"body2\" display=\"block\" component=\"span\" gutterBottom>\n        {t('thanks')}{' '}\n        <span role=\"img\" aria-label={t('emojiLove')}>\n          ❤️\n        </span>\n      </Typography>\n    </Paper>\n  );\n}\n\nconst disable = process.env.NODE_ENV !== 'production' && process.env.ENABLE_AD !== 'true';\nconst inHouseAds = [\n  {\n    name: 'scaffoldhub',\n    link: 'https://scaffoldhub.io/?partner=1',\n    img: '/static/in-house/scaffoldhub.png',\n    description: '<b>Scaffold</b>. Automate building your full-stack Material-UI web-app.',\n  },\n  {\n    name: 'templates',\n    link:\n      'https://material-ui.com/store/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-templates',\n    img: '/static/in-house/themes-2.jpg',\n    description:\n      '<b>Premium Templates</b>. Start your project with the best templates for admins, dashboards and more.',\n  },\n  {\n    name: 'themes',\n    link:\n      'https://material-ui.com/store/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-themes',\n    img: '/static/in-house/themes.png',\n    description:\n      '<b>Premium Themes</b>. Kickstart your application development with a ready-made theme.',\n  },\n  {\n    name: 'tidelift',\n    link:\n      'https://tidelift.com/subscription/pkg/npm-material-ui?utm_source=npm-material-ui&utm_medium=referral&utm_campaign=enterprise&utm_content=ad',\n    img: '/static/in-house/tidelift.png',\n    description:\n      '<b>Material-UI for enterprise</b>. Save time and reduce risk. Managed open source — backed by maintainers.',\n  },\n  {\n    name: 'sketch',\n    link:\n      'https://material-ui.com/store/items/sketch-react/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-sketch',\n    img: '/static/in-house/sketch.png',\n    description: '<b>Sketch</b>. A large UI kit with over 600 handcrafted Material-UI symbols 💎.',\n  },\n  {\n    name: 'figma',\n    link:\n      'https://material-ui.com/store/items/figma-react/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-figma',\n    img: '/static/in-house/figma.png',\n    description:\n      '<b>Figma</b>. A large UI kit with over 600 handcrafted Material-UI components 🎨.',\n  },\n];\n\nfunction Ad(props) {\n  const { placement, classes } = props;\n\n  const [adblock, setAdblock] = React.useState(null);\n  const [carbonOut, setCarbonOut] = React.useState(null);\n  const [codeFundOut, setCodeFundOut] = React.useState(null);\n\n  let children;\n\n  // Hide the content to google bot.\n  if (/Googlebot/.test(navigator.userAgent) || disable) {\n    children = <span />;\n  }\n\n  const { current: randomAdblock } = React.useRef(Math.random());\n  const { current: randomInHouse } = React.useRef(Math.random());\n  let minHeight;\n\n  if (!children && adblock) {\n    minHeight = 'auto';\n\n    if (randomAdblock < 0.2) {\n      children = <PleaseDisableAdblock className={classes.paper} />;\n    } else {\n      children = <AdInHouse ad={inHouseAds[Math.floor(inHouseAds.length * randomInHouse)]} />;\n    }\n  }\n\n  const { current: randomSplit } = React.useRef(Math.random());\n\n  if (!children) {\n    if (carbonOut || codeFundOut) {\n      children = <AdInHouse ad={inHouseAds[Math.floor(inHouseAds.length * randomInHouse)]} />;\n      minHeight = 'auto';\n    } else if (randomSplit < 0.4) {\n      children = <AdCodeFund />;\n    } else {\n      children = <AdCarbon />;\n    }\n  }\n\n  const getEventLabel = () => {\n    let label;\n\n    if (children.type === AdCodeFund) {\n      label = 'codefund';\n    } else if (children.type === AdCarbon) {\n      label = 'carbon';\n    } else if (children.type === AdInHouse) {\n      if (!adblock && codeFundOut) {\n        label = 'in-house-codefund';\n      } else if (!adblock && carbonOut) {\n        label = 'in-house-carbon';\n      } else {\n        label = 'in-house';\n      }\n    } else if (children.type === PleaseDisableAdblock) {\n      label = 'in-house-adblock';\n    }\n\n    return label;\n  };\n\n  const ad = React.useContext(AdContext);\n  const eventLabel = getEventLabel();\n  const eventValue = `${adPlacement === 'body' ? ad.portal.placement : adPlacement}-${adShape}`;\n\n  const timerAdblock = React.useRef();\n\n  const checkAdblock = React.useCallback(\n    (attempt = 1) => {\n      if (\n        document.querySelector('.cf-wrapper') ||\n        document.querySelector('#carbonads') ||\n        codeFundOut ||\n        carbonOut\n      ) {\n        if (\n          document.querySelector('#carbonads a') &&\n          document.querySelector('#carbonads a').getAttribute('href') ===\n            'https://material-ui-next.com/discover-more/backers'\n        ) {\n          setCarbonOut(true);\n        }\n\n        setAdblock(false);\n        return;\n      }\n\n      if (attempt < 30) {\n        timerAdblock.current = setTimeout(() => {\n          checkAdblock(attempt + 1);\n        }, 500);\n      }\n\n      if (attempt > 6) {\n        setAdblock(true);\n      }\n    },\n    [codeFundOut, carbonOut],\n  );\n\n  React.useEffect(() => {\n    if (disable) {\n      return undefined;\n    }\n    checkAdblock();\n\n    return () => {\n      clearTimeout(timerAdblock.current);\n    };\n  }, [checkAdblock]);\n\n  React.useEffect(() => {\n    const handler = (event) => {\n      if (event.detail.status === 'no-advertiser') {\n        setCodeFundOut(true);\n      }\n    };\n    window.addEventListener('codefund', handler);\n    return () => {\n      window.removeEventListener('codefund', handler);\n    };\n  }, []);\n\n  React.useEffect(() => {\n    // Avoid an exceed on the Google Analytics quotas.\n    if (Math.random() < 0.9) {\n      return undefined;\n    }\n\n    const delay = setTimeout(() => {\n      if (!eventLabel) {\n        return;\n      }\n\n      window.ga('send', {\n        hitType: 'event',\n        eventCategory: 'ad',\n        eventAction: 'display',\n        eventLabel,\n        eventValue,\n      });\n\n      if (eventLabel.indexOf('in-house') === 0) {\n        window.ga('send', {\n          hitType: 'event',\n          eventCategory: 'in-house-ad',\n          eventAction: 'display',\n          eventLabel: children.props.ad.name,\n          eventValue,\n        });\n      }\n    }, 2500);\n\n    return () => {\n      clearTimeout(delay);\n    };\n  }, [eventLabel, children.props.ad, eventValue]);\n\n  // Refresh the ad after 1m30.\n  // An approximation to trigger when coming back to the window tab \"after a while\".\n  const [key, setKey] = React.useState(0);\n  React.useEffect(() => {\n    const interval = setInterval(() => {\n      setKey((currentKey) => currentKey + 1);\n    }, 90000);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  if (adPlacement !== placement) {\n    return null;\n  }\n\n  return (\n    <span\n      className={clsx(classes.root, classes[`placement-${adPlacement}-${adShape}`])}\n      style={{ minHeight: adPlacement === 'body' ? minHeight : null }}\n      data-ga-event-category=\"ad\"\n      data-ga-event-action=\"click\"\n      /* advertiser network */\n      data-ga-event-label={eventLabel}\n      /* docs placement */\n      data-ga-event-value={eventValue}\n    >\n      {React.cloneElement(children, { key })}\n    </span>\n  );\n}\n\nAd.propTypes = {\n  classes: PropTypes.object.isRequired,\n  placement: PropTypes.oneOf(['body', 'tocs-top', 'tocs-bottom']).isRequired,\n};\n\nexport default React.memo(withStyles(styles)(Ad));\n"]},"metadata":{},"sourceType":"module"}