{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nvar _jsxFileName = \"/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/Ad.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { withStyles } from \"../../../../packages/material-ui/src/styles\";\nimport Typography from \"../../../../packages/material-ui/src/Typography\";\nimport Paper from \"../../../../packages/material-ui/src/Paper\";\nimport AdCodeFund from \"./AdCodeFund\";\nimport AdCarbon from \"./AdCarbon\";\nimport AdInHouse from \"./AdInHouse\";\nimport { AdContext, adPlacement, adShape } from \"./AdManager\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      position: 'relative',\n      display: 'block'\n    },\n    'placement-body-image': {\n      margin: theme.spacing(4, 1, 3),\n      minHeight: 126\n    },\n    'placement-body-inline': {\n      margin: theme.spacing(4, 0, 3),\n      minHeight: 126,\n      display: 'flex',\n      alignItems: 'flex-end'\n    },\n    'placement-tocs-top-image': {\n      minHeight: 240\n    },\n    'placement-tocs-bottom-image': {\n      minHeight: 240\n    },\n    paper: {\n      padding: theme.spacing(1.5),\n      border: \"2px solid \".concat(theme.palette.primary.main),\n      display: 'block'\n    }\n  };\n};\n\nfunction PleaseDisableAdblock(props) {\n  var t = useSelector(function (state) {\n    return state.options.t;\n  });\n  return __jsx(Paper, _extends({\n    component: \"span\",\n    elevation: 0\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 5\n    }\n  }), __jsx(Typography, {\n    variant: \"body2\",\n    display: \"block\",\n    component: \"span\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, t('likeMui')), __jsx(Typography, {\n    variant: \"body2\",\n    display: \"block\",\n    component: \"span\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, t('adblock')), __jsx(Typography, {\n    variant: \"body2\",\n    display: \"block\",\n    component: \"span\",\n    gutterBottom: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, t('thanks'), ' ', __jsx(\"span\", {\n    role: \"img\",\n    \"aria-label\": t('emojiLove'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, \"\\u2764\\uFE0F\")));\n}\n\nvar disable = true && process.env.ENABLE_AD !== 'true';\nvar inHouseAds = [{\n  name: 'scaffoldhub',\n  link: 'https://scaffoldhub.io/?partner=1',\n  img: '/static/in-house/scaffoldhub.png',\n  description: '<b>Scaffold</b>. Automate building your full-stack Material-UI web-app.'\n}, {\n  name: 'templates',\n  link: 'https://material-ui.com/store/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-templates',\n  img: '/static/in-house/themes-2.jpg',\n  description: '<b>Premium Templates</b>. Start your project with the best templates for admins, dashboards and more.'\n}, {\n  name: 'themes',\n  link: 'https://material-ui.com/store/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-themes',\n  img: '/static/in-house/themes.png',\n  description: '<b>Premium Themes</b>. Kickstart your application development with a ready-made theme.'\n}, {\n  name: 'tidelift',\n  link: 'https://tidelift.com/subscription/pkg/npm-material-ui?utm_source=npm-material-ui&utm_medium=referral&utm_campaign=enterprise&utm_content=ad',\n  img: '/static/in-house/tidelift.png',\n  description: '<b>Material-UI for enterprise</b>. Save time and reduce risk. Managed open source — backed by maintainers.'\n}, {\n  name: 'sketch',\n  link: 'https://material-ui.com/store/items/sketch-react/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-sketch',\n  img: '/static/in-house/sketch.png',\n  description: '<b>Sketch</b>. A large UI kit with over 600 handcrafted Material-UI symbols 💎.'\n}, {\n  name: 'figma',\n  link: 'https://material-ui.com/store/items/figma-react/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-figma',\n  img: '/static/in-house/figma.png',\n  description: '<b>Figma</b>. A large UI kit with over 600 handcrafted Material-UI components 🎨.'\n}];\n\nfunction Ad(props) {\n  var placement = props.placement,\n      classes = props.classes;\n\n  var _React$useState = React.useState(null),\n      adblock = _React$useState[0],\n      setAdblock = _React$useState[1];\n\n  var _React$useState2 = React.useState(null),\n      carbonOut = _React$useState2[0],\n      setCarbonOut = _React$useState2[1];\n\n  var _React$useState3 = React.useState(null),\n      codeFundOut = _React$useState3[0],\n      setCodeFundOut = _React$useState3[1];\n\n  var children; // Hide the content to google bot.\n\n  if (/Googlebot/.test(navigator.userAgent) || disable) {\n    children = __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 16\n      }\n    });\n  }\n\n  var _React$useRef = React.useRef(Math.random()),\n      randomAdblock = _React$useRef.current;\n\n  var _React$useRef2 = React.useRef(Math.random()),\n      randomInHouse = _React$useRef2.current;\n\n  var minHeight;\n\n  if (!children && adblock) {\n    minHeight = 'auto';\n\n    if (randomAdblock < 0.2) {\n      children = __jsx(PleaseDisableAdblock, {\n        className: classes.paper,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 18\n        }\n      });\n    } else {\n      children = __jsx(AdInHouse, {\n        ad: inHouseAds[Math.floor(inHouseAds.length * randomInHouse)],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 18\n        }\n      });\n    }\n  }\n\n  var _React$useRef3 = React.useRef(Math.random()),\n      randomSplit = _React$useRef3.current;\n\n  if (!children) {\n    if (carbonOut || codeFundOut) {\n      children = __jsx(AdInHouse, {\n        ad: inHouseAds[Math.floor(inHouseAds.length * randomInHouse)],\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 18\n        }\n      });\n      minHeight = 'auto';\n    } else if (randomSplit < 0.4) {\n      children = __jsx(AdCodeFund, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 18\n        }\n      });\n    } else {\n      children = __jsx(AdCarbon, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 18\n        }\n      });\n    }\n  }\n\n  var getEventLabel = function getEventLabel() {\n    var label;\n\n    if (children.type === AdCodeFund) {\n      label = 'codefund';\n    } else if (children.type === AdCarbon) {\n      label = 'carbon';\n    } else if (children.type === AdInHouse) {\n      if (!adblock && codeFundOut) {\n        label = 'in-house-codefund';\n      } else if (!adblock && carbonOut) {\n        label = 'in-house-carbon';\n      } else {\n        label = 'in-house';\n      }\n    } else if (children.type === PleaseDisableAdblock) {\n      label = 'in-house-adblock';\n    }\n\n    return label;\n  };\n\n  var ad = React.useContext(AdContext);\n  var eventLabel = getEventLabel();\n  var eventValue = \"\".concat(adPlacement === 'body' ? ad.portal.placement : adPlacement, \"-\").concat(adShape);\n  var timerAdblock = React.useRef();\n  var checkAdblock = React.useCallback(function () {\n    var attempt = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n    if (document.querySelector('.cf-wrapper') || document.querySelector('#carbonads') || codeFundOut || carbonOut) {\n      if (document.querySelector('#carbonads a') && document.querySelector('#carbonads a').getAttribute('href') === 'https://material-ui-next.com/discover-more/backers') {\n        setCarbonOut(true);\n      }\n\n      setAdblock(false);\n      return;\n    }\n\n    if (attempt < 30) {\n      timerAdblock.current = setTimeout(function () {\n        checkAdblock(attempt + 1);\n      }, 500);\n    }\n\n    if (attempt > 6) {\n      setAdblock(true);\n    }\n  }, [codeFundOut, carbonOut]);\n  React.useEffect(function () {\n    if (disable) {\n      return undefined;\n    }\n\n    checkAdblock();\n    return function () {\n      clearTimeout(timerAdblock.current);\n    };\n  }, [checkAdblock]);\n  React.useEffect(function () {\n    var handler = function handler(event) {\n      if (event.detail.status === 'no-advertiser') {\n        setCodeFundOut(true);\n      }\n    };\n\n    window.addEventListener('codefund', handler);\n    return function () {\n      window.removeEventListener('codefund', handler);\n    };\n  }, []);\n  React.useEffect(function () {\n    // Avoid an exceed on the Google Analytics quotas.\n    if (Math.random() < 0.9) {\n      return undefined;\n    }\n\n    var delay = setTimeout(function () {\n      if (!eventLabel) {\n        return;\n      }\n\n      window.ga('send', {\n        hitType: 'event',\n        eventCategory: 'ad',\n        eventAction: 'display',\n        eventLabel: eventLabel,\n        eventValue: eventValue\n      });\n\n      if (eventLabel.indexOf('in-house') === 0) {\n        window.ga('send', {\n          hitType: 'event',\n          eventCategory: 'in-house-ad',\n          eventAction: 'display',\n          eventLabel: children.props.ad.name,\n          eventValue: eventValue\n        });\n      }\n    }, 2500);\n    return function () {\n      clearTimeout(delay);\n    };\n  }, [eventLabel, children.props.ad, eventValue]); // Refresh the ad after 1m30.\n  // An approximation to trigger when coming back to the window tab \"after a while\".\n\n  var _React$useState4 = React.useState(0),\n      key = _React$useState4[0],\n      setKey = _React$useState4[1];\n\n  React.useEffect(function () {\n    var interval = setInterval(function () {\n      setKey(function (currentKey) {\n        return currentKey + 1;\n      });\n    }, 90000);\n    return function () {\n      clearInterval(interval);\n    };\n  }, []);\n\n  if (adPlacement !== placement) {\n    return null;\n  }\n\n  return __jsx(\"span\", {\n    className: clsx(classes.root, classes[\"placement-\".concat(adPlacement, \"-\").concat(adShape)]),\n    style: {\n      minHeight: adPlacement === 'body' ? minHeight : null\n    },\n    \"data-ga-event-category\": \"ad\",\n    \"data-ga-event-action\": \"click\"\n    /* advertiser network */\n    ,\n    \"data-ga-event-label\": eventLabel\n    /* docs placement */\n    ,\n    \"data-ga-event-value\": eventValue,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.cloneElement(children, {\n    key: key\n  }));\n}\n\nAd.propTypes = {\n  classes: PropTypes.object.isRequired,\n  placement: PropTypes.oneOf(['body', 'tocs-top', 'tocs-bottom']).isRequired\n};\nexport default /*#__PURE__*/React.memo(withStyles(styles)(Ad));","map":{"version":3,"sources":["/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/Ad.js"],"names":["styles","root","position","display","margin","theme","minHeight","alignItems","paper","padding","border","t","useSelector","state","disable","process","inHouseAds","name","link","img","description","placement","classes","props","adblock","setAdblock","React","carbonOut","setCarbonOut","codeFundOut","setCodeFundOut","navigator","children","randomAdblock","Math","randomInHouse","randomSplit","getEventLabel","label","ad","eventLabel","eventValue","adPlacement","timerAdblock","checkAdblock","attempt","document","setTimeout","clearTimeout","handler","event","window","delay","hitType","eventCategory","eventAction","key","setKey","interval","setInterval","currentKey","clearInterval","clsx","Ad","PropTypes","isRequired","withStyles"],"mappings":"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","sourcesContent":["import React from 'react';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { withStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Paper from '@material-ui/core/Paper';\nimport AdCodeFund from 'docs/src/modules/components/AdCodeFund';\nimport AdCarbon from 'docs/src/modules/components/AdCarbon';\nimport AdInHouse from 'docs/src/modules/components/AdInHouse';\nimport { AdContext, adPlacement, adShape } from 'docs/src/modules/components/AdManager';\n\nconst styles = (theme) => ({\n  root: {\n    position: 'relative',\n    display: 'block',\n  },\n  'placement-body-image': {\n    margin: theme.spacing(4, 1, 3),\n    minHeight: 126,\n  },\n  'placement-body-inline': {\n    margin: theme.spacing(4, 0, 3),\n    minHeight: 126,\n    display: 'flex',\n    alignItems: 'flex-end',\n  },\n  'placement-tocs-top-image': {\n    minHeight: 240,\n  },\n  'placement-tocs-bottom-image': {\n    minHeight: 240,\n  },\n  paper: {\n    padding: theme.spacing(1.5),\n    border: `2px solid ${theme.palette.primary.main}`,\n    display: 'block',\n  },\n});\n\nfunction PleaseDisableAdblock(props) {\n  const t = useSelector((state) => state.options.t);\n\n  return (\n    <Paper component=\"span\" elevation={0} {...props}>\n      <Typography variant=\"body2\" display=\"block\" component=\"span\" gutterBottom>\n        {t('likeMui')}\n      </Typography>\n      <Typography variant=\"body2\" display=\"block\" component=\"span\" gutterBottom>\n        {t('adblock')}\n      </Typography>\n      <Typography variant=\"body2\" display=\"block\" component=\"span\" gutterBottom>\n        {t('thanks')}{' '}\n        <span role=\"img\" aria-label={t('emojiLove')}>\n          ❤️\n        </span>\n      </Typography>\n    </Paper>\n  );\n}\n\nconst disable = process.env.NODE_ENV !== 'production' && process.env.ENABLE_AD !== 'true';\nconst inHouseAds = [\n  {\n    name: 'scaffoldhub',\n    link: 'https://scaffoldhub.io/?partner=1',\n    img: '/static/in-house/scaffoldhub.png',\n    description: '<b>Scaffold</b>. Automate building your full-stack Material-UI web-app.',\n  },\n  {\n    name: 'templates',\n    link:\n      'https://material-ui.com/store/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-templates',\n    img: '/static/in-house/themes-2.jpg',\n    description:\n      '<b>Premium Templates</b>. Start your project with the best templates for admins, dashboards and more.',\n  },\n  {\n    name: 'themes',\n    link:\n      'https://material-ui.com/store/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-themes',\n    img: '/static/in-house/themes.png',\n    description:\n      '<b>Premium Themes</b>. Kickstart your application development with a ready-made theme.',\n  },\n  {\n    name: 'tidelift',\n    link:\n      'https://tidelift.com/subscription/pkg/npm-material-ui?utm_source=npm-material-ui&utm_medium=referral&utm_campaign=enterprise&utm_content=ad',\n    img: '/static/in-house/tidelift.png',\n    description:\n      '<b>Material-UI for enterprise</b>. Save time and reduce risk. Managed open source — backed by maintainers.',\n  },\n  {\n    name: 'sketch',\n    link:\n      'https://material-ui.com/store/items/sketch-react/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-sketch',\n    img: '/static/in-house/sketch.png',\n    description: '<b>Sketch</b>. A large UI kit with over 600 handcrafted Material-UI symbols 💎.',\n  },\n  {\n    name: 'figma',\n    link:\n      'https://material-ui.com/store/items/figma-react/?utm_source=docs&utm_medium=referral&utm_campaign=in-house-figma',\n    img: '/static/in-house/figma.png',\n    description:\n      '<b>Figma</b>. A large UI kit with over 600 handcrafted Material-UI components 🎨.',\n  },\n];\n\nfunction Ad(props) {\n  const { placement, classes } = props;\n\n  const [adblock, setAdblock] = React.useState(null);\n  const [carbonOut, setCarbonOut] = React.useState(null);\n  const [codeFundOut, setCodeFundOut] = React.useState(null);\n\n  let children;\n\n  // Hide the content to google bot.\n  if (/Googlebot/.test(navigator.userAgent) || disable) {\n    children = <span />;\n  }\n\n  const { current: randomAdblock } = React.useRef(Math.random());\n  const { current: randomInHouse } = React.useRef(Math.random());\n  let minHeight;\n\n  if (!children && adblock) {\n    minHeight = 'auto';\n\n    if (randomAdblock < 0.2) {\n      children = <PleaseDisableAdblock className={classes.paper} />;\n    } else {\n      children = <AdInHouse ad={inHouseAds[Math.floor(inHouseAds.length * randomInHouse)]} />;\n    }\n  }\n\n  const { current: randomSplit } = React.useRef(Math.random());\n\n  if (!children) {\n    if (carbonOut || codeFundOut) {\n      children = <AdInHouse ad={inHouseAds[Math.floor(inHouseAds.length * randomInHouse)]} />;\n      minHeight = 'auto';\n    } else if (randomSplit < 0.4) {\n      children = <AdCodeFund />;\n    } else {\n      children = <AdCarbon />;\n    }\n  }\n\n  const getEventLabel = () => {\n    let label;\n\n    if (children.type === AdCodeFund) {\n      label = 'codefund';\n    } else if (children.type === AdCarbon) {\n      label = 'carbon';\n    } else if (children.type === AdInHouse) {\n      if (!adblock && codeFundOut) {\n        label = 'in-house-codefund';\n      } else if (!adblock && carbonOut) {\n        label = 'in-house-carbon';\n      } else {\n        label = 'in-house';\n      }\n    } else if (children.type === PleaseDisableAdblock) {\n      label = 'in-house-adblock';\n    }\n\n    return label;\n  };\n\n  const ad = React.useContext(AdContext);\n  const eventLabel = getEventLabel();\n  const eventValue = `${adPlacement === 'body' ? ad.portal.placement : adPlacement}-${adShape}`;\n\n  const timerAdblock = React.useRef();\n\n  const checkAdblock = React.useCallback(\n    (attempt = 1) => {\n      if (\n        document.querySelector('.cf-wrapper') ||\n        document.querySelector('#carbonads') ||\n        codeFundOut ||\n        carbonOut\n      ) {\n        if (\n          document.querySelector('#carbonads a') &&\n          document.querySelector('#carbonads a').getAttribute('href') ===\n            'https://material-ui-next.com/discover-more/backers'\n        ) {\n          setCarbonOut(true);\n        }\n\n        setAdblock(false);\n        return;\n      }\n\n      if (attempt < 30) {\n        timerAdblock.current = setTimeout(() => {\n          checkAdblock(attempt + 1);\n        }, 500);\n      }\n\n      if (attempt > 6) {\n        setAdblock(true);\n      }\n    },\n    [codeFundOut, carbonOut],\n  );\n\n  React.useEffect(() => {\n    if (disable) {\n      return undefined;\n    }\n    checkAdblock();\n\n    return () => {\n      clearTimeout(timerAdblock.current);\n    };\n  }, [checkAdblock]);\n\n  React.useEffect(() => {\n    const handler = (event) => {\n      if (event.detail.status === 'no-advertiser') {\n        setCodeFundOut(true);\n      }\n    };\n    window.addEventListener('codefund', handler);\n    return () => {\n      window.removeEventListener('codefund', handler);\n    };\n  }, []);\n\n  React.useEffect(() => {\n    // Avoid an exceed on the Google Analytics quotas.\n    if (Math.random() < 0.9) {\n      return undefined;\n    }\n\n    const delay = setTimeout(() => {\n      if (!eventLabel) {\n        return;\n      }\n\n      window.ga('send', {\n        hitType: 'event',\n        eventCategory: 'ad',\n        eventAction: 'display',\n        eventLabel,\n        eventValue,\n      });\n\n      if (eventLabel.indexOf('in-house') === 0) {\n        window.ga('send', {\n          hitType: 'event',\n          eventCategory: 'in-house-ad',\n          eventAction: 'display',\n          eventLabel: children.props.ad.name,\n          eventValue,\n        });\n      }\n    }, 2500);\n\n    return () => {\n      clearTimeout(delay);\n    };\n  }, [eventLabel, children.props.ad, eventValue]);\n\n  // Refresh the ad after 1m30.\n  // An approximation to trigger when coming back to the window tab \"after a while\".\n  const [key, setKey] = React.useState(0);\n  React.useEffect(() => {\n    const interval = setInterval(() => {\n      setKey((currentKey) => currentKey + 1);\n    }, 90000);\n\n    return () => {\n      clearInterval(interval);\n    };\n  }, []);\n\n  if (adPlacement !== placement) {\n    return null;\n  }\n\n  return (\n    <span\n      className={clsx(classes.root, classes[`placement-${adPlacement}-${adShape}`])}\n      style={{ minHeight: adPlacement === 'body' ? minHeight : null }}\n      data-ga-event-category=\"ad\"\n      data-ga-event-action=\"click\"\n      /* advertiser network */\n      data-ga-event-label={eventLabel}\n      /* docs placement */\n      data-ga-event-value={eventValue}\n    >\n      {React.cloneElement(children, { key })}\n    </span>\n  );\n}\n\nAd.propTypes = {\n  classes: PropTypes.object.isRequired,\n  placement: PropTypes.oneOf(['body', 'tocs-top', 'tocs-bottom']).isRequired,\n};\n\nexport default React.memo(withStyles(styles)(Ad));\n"]},"metadata":{},"sourceType":"module"}