{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/AppSearch.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport url from 'url';\nimport { useSelector } from 'react-redux';\nimport useLazyCSS from \"../utils/useLazyCSS\";\nimport useMediaQuery from \"../../../../packages/material-ui/src/useMediaQuery\";\nimport { fade, useTheme, makeStyles } from \"../../../../packages/material-ui/src/styles\";\nimport Input from \"../../../../packages/material-ui/src/Input\";\nimport SearchIcon from \"../../../../packages/material-ui-icons/src/Search\";\nimport { handleEvent } from \"./MarkdownLinks\";\nimport docsearch from 'docsearch.js';\nvar useStyles = makeStyles(function (theme) {\n  return {\n    '@global': {\n      '.algolia-autocomplete': {\n        '& .ds-dropdown-menu': {\n          boxShadow: theme.shadows[1],\n          borderRadius: theme.shape.borderRadius,\n          '&::before': {\n            display: 'none'\n          },\n          '& [class^=ds-dataset-]': {\n            border: 0,\n            maxHeight: 'calc(100vh - 100px)',\n            borderRadius: theme.shape.borderRadius,\n            backgroundColor: theme.palette.background.paper\n          }\n        },\n        '& .algolia-docsearch-suggestion--category-header-lvl0': {\n          color: theme.palette.text.primary\n        },\n        '& .algolia-docsearch-suggestion .algolia-docsearch-suggestion--subcategory-column': {\n          opacity: 1,\n          padding: '5.33px 10.66px',\n          textAlign: 'right',\n          width: '25%'\n        },\n        '& .algolia-docsearch-suggestion .algolia-docsearch-suggestion--content': {\n          \"float\": 'right',\n          padding: '5.33px 0 5.33px 10.66px',\n          width: '75%'\n        },\n        '& .algolia-docsearch-suggestion--subcategory-column-text': {\n          color: theme.palette.text.secondary,\n          fontWeight: theme.typography.fontWeightRegular\n        },\n        '& .algolia-docsearch-suggestion--highlight': {\n          color: theme.palette.type === 'light' ? '#174d8c' : '#acccf1'\n        },\n        '& .algolia-docsearch-suggestion': {\n          textDecoration: 'none',\n          backgroundColor: theme.palette.background.paper\n        },\n        '& .algolia-docsearch-suggestion--title': _objectSpread(_objectSpread({}, theme.typography.h6), {}, {\n          color: theme.palette.text.primary\n        }),\n        '& .algolia-docsearch-suggestion--text': _objectSpread(_objectSpread({}, theme.typography.body2), {}, {\n          color: theme.palette.text.secondary\n        }),\n        '&& .algolia-docsearch-suggestion--no-results': {\n          width: '100%',\n          '&::before': {\n            display: 'none'\n          }\n        },\n        '& .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion--content': {\n          backgroundColor: \"\".concat(theme.palette.action.selected, \" !important\")\n        }\n      }\n    },\n    root: {\n      fontFamily: theme.typography.fontFamily,\n      position: 'relative',\n      marginRight: theme.spacing(2),\n      marginLeft: theme.spacing(1),\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.15),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.common.white, 0.25)\n      },\n      '& $inputInput': {\n        transition: theme.transitions.create('width'),\n        width: 120,\n        '&:focus': {\n          width: 170\n        }\n      }\n    },\n    search: {\n      width: theme.spacing(9),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center'\n    },\n    inputRoot: {\n      color: 'inherit'\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 9)\n    }\n  };\n}, {\n  name: 'AppSearch'\n});\n/**\n * When using this component it is recommend to include a preload link\n * `<link rel=\"preload\" href=\"https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css\" as=\"style\" />`\n * to potentially reduce load times\n */\n\nexport default function AppSearch() {\n  var classes = useStyles();\n  var inputRef = React.useRef(null);\n  var theme = useTheme();\n  var userLanguage = useSelector(function (state) {\n    return state.options.userLanguage;\n  });\n  var t = useSelector(function (state) {\n    return state.options.t;\n  });\n  useLazyCSS('https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css', '#app-search');\n  React.useEffect(function () {\n    var handleKeyDown = function handleKeyDown(event) {\n      // Use event.keyCode to support IE 11\n      if ([191, // '/'\n      83 // 's'\n      ].indexOf(event.keyCode) !== -1 && document.activeElement.nodeName === 'BODY' && document.activeElement !== inputRef.current) {\n        event.preventDefault();\n        inputRef.current.focus();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return function () {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n  var desktop = useMediaQuery(theme.breakpoints.up('sm'));\n  React.useEffect(function () {\n    if (desktop) {\n      // This assumes that by the time this effect runs the Input component is committed\n      // this holds true as long as the effect and the component are in the same\n      // suspense boundary. If you move effect and component apart be sure to check\n      // that this assumption still holds\n      var search = docsearch({\n        apiKey: '1d8534f83b9b0cfea8f16498d19fbcab',\n        indexName: 'material-ui',\n        inputSelector: '#docsearch-input',\n        algoliaOptions: {\n          facetFilters: ['version:master', \"language:\".concat(userLanguage)]\n        },\n        autocompleteOptions: {\n          openOnFocus: true\n        },\n        handleSelected: function handleSelected(input, event, suggestion) {\n          event.button = 0;\n          var parseUrl = url.parse(suggestion.url);\n          handleEvent(event, parseUrl.pathname + parseUrl.hash);\n          input.close();\n        } // debug: true, // Set debug to true if you want to inspect the dropdown.\n\n      });\n      search.autocomplete.on('autocomplete:cursorchanged', function (event) {\n        var combobox = event.target;\n        var selectedOptionNode = document.getElementById(combobox.getAttribute('aria-activedescendant'));\n        var listboxNode = document.querySelector('.ds-suggestions').parentElement;\n\n        if (selectedOptionNode === null || listboxNode === null) {\n          if (true) {\n            console.warn('Cant scroll to selected option.');\n          }\n\n          return;\n        } // Scroll active descendant into view.\n        // Logic copied from https://www.w3.org/TR/wai-aria-practices/examples/listbox/js/listbox.js\n        //\n        // Consider this API instead once it has a better browser support:\n        // .scrollIntoView({ scrollMode: 'if-needed', block: 'nearest' });\n\n\n        if (listboxNode.scrollHeight > listboxNode.clientHeight) {\n          var element = selectedOptionNode;\n          var scrollBottom = listboxNode.clientHeight + listboxNode.scrollTop;\n          var elementBottom = element.offsetTop + element.offsetHeight;\n\n          if (elementBottom > scrollBottom) {\n            listboxNode.scrollTop = elementBottom - listboxNode.clientHeight;\n          } else if (element.offsetTop < listboxNode.scrollTop) {\n            listboxNode.scrollTop = element.offsetTop;\n          }\n        }\n      });\n    }\n  }, [desktop, userLanguage]);\n  return __jsx(\"div\", {\n    className: classes.root,\n    style: {\n      display: desktop ? 'flex' : 'none'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: classes.search,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }\n  }, __jsx(SearchIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  })), __jsx(Input, {\n    disableUnderline: true,\n    placeholder: \"\".concat(t('algoliaSearch'), \"\\u2026\"),\n    inputProps: {\n      'aria-label': t('algoliaSearch')\n    },\n    type: \"search\",\n    id: \"docsearch-input\",\n    inputRef: inputRef,\n    classes: {\n      root: classes.inputRoot,\n      input: classes.inputInput\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/AppSearch.js"],"names":["React","url","useSelector","useLazyCSS","useMediaQuery","fade","useTheme","makeStyles","Input","SearchIcon","handleEvent","docsearch","useStyles","theme","boxShadow","shadows","borderRadius","shape","display","border","maxHeight","backgroundColor","palette","background","paper","color","text","primary","opacity","padding","textAlign","width","secondary","fontWeight","typography","fontWeightRegular","type","textDecoration","h6","body2","action","selected","root","fontFamily","position","marginRight","spacing","marginLeft","common","white","transition","transitions","create","search","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","name","AppSearch","classes","inputRef","useRef","userLanguage","state","options","t","useEffect","handleKeyDown","event","indexOf","keyCode","document","activeElement","nodeName","current","preventDefault","focus","addEventListener","removeEventListener","desktop","breakpoints","up","apiKey","indexName","inputSelector","algoliaOptions","facetFilters","autocompleteOptions","openOnFocus","handleSelected","input","suggestion","button","parseUrl","parse","pathname","hash","close","autocomplete","on","combobox","target","selectedOptionNode","getElementById","getAttribute","listboxNode","querySelector","parentElement","console","warn","scrollHeight","clientHeight","element","scrollBottom","scrollTop","elementBottom","offsetTop","offsetHeight"],"mappings":"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","sourcesContent":["import React from 'react';\nimport url from 'url';\nimport { useSelector } from 'react-redux';\nimport useLazyCSS from 'docs/src/modules/utils/useLazyCSS';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { fade, useTheme, makeStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport SearchIcon from '@material-ui/icons/Search';\nimport { handleEvent } from 'docs/src/modules/components/MarkdownLinks';\nimport docsearch from 'docsearch.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    '@global': {\n      '.algolia-autocomplete': {\n        '& .ds-dropdown-menu': {\n          boxShadow: theme.shadows[1],\n          borderRadius: theme.shape.borderRadius,\n          '&::before': {\n            display: 'none',\n          },\n          '& [class^=ds-dataset-]': {\n            border: 0,\n            maxHeight: 'calc(100vh - 100px)',\n            borderRadius: theme.shape.borderRadius,\n            backgroundColor: theme.palette.background.paper,\n          },\n        },\n        '& .algolia-docsearch-suggestion--category-header-lvl0': {\n          color: theme.palette.text.primary,\n        },\n        '& .algolia-docsearch-suggestion .algolia-docsearch-suggestion--subcategory-column': {\n          opacity: 1,\n          padding: '5.33px 10.66px',\n          textAlign: 'right',\n          width: '25%',\n        },\n        '& .algolia-docsearch-suggestion .algolia-docsearch-suggestion--content': {\n          float: 'right',\n          padding: '5.33px 0 5.33px 10.66px',\n          width: '75%',\n        },\n        '& .algolia-docsearch-suggestion--subcategory-column-text': {\n          color: theme.palette.text.secondary,\n          fontWeight: theme.typography.fontWeightRegular,\n        },\n        '& .algolia-docsearch-suggestion--highlight': {\n          color: theme.palette.type === 'light' ? '#174d8c' : '#acccf1',\n        },\n        '& .algolia-docsearch-suggestion': {\n          textDecoration: 'none',\n          backgroundColor: theme.palette.background.paper,\n        },\n        '& .algolia-docsearch-suggestion--title': {\n          ...theme.typography.h6,\n          color: theme.palette.text.primary,\n        },\n        '& .algolia-docsearch-suggestion--text': {\n          ...theme.typography.body2,\n          color: theme.palette.text.secondary,\n        },\n        '&& .algolia-docsearch-suggestion--no-results': {\n          width: '100%',\n          '&::before': {\n            display: 'none',\n          },\n        },\n        '& .ds-dropdown-menu .ds-suggestion.ds-cursor .algolia-docsearch-suggestion--content': {\n          backgroundColor: `${theme.palette.action.selected} !important`,\n        },\n      },\n    },\n    root: {\n      fontFamily: theme.typography.fontFamily,\n      position: 'relative',\n      marginRight: theme.spacing(2),\n      marginLeft: theme.spacing(1),\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.15),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.common.white, 0.25),\n      },\n      '& $inputInput': {\n        transition: theme.transitions.create('width'),\n        width: 120,\n        '&:focus': {\n          width: 170,\n        },\n      },\n    },\n    search: {\n      width: theme.spacing(9),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    inputRoot: {\n      color: 'inherit',\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 9),\n    },\n  }),\n  { name: 'AppSearch' },\n);\n\n/**\n * When using this component it is recommend to include a preload link\n * `<link rel=\"preload\" href=\"https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css\" as=\"style\" />`\n * to potentially reduce load times\n */\nexport default function AppSearch() {\n  const classes = useStyles();\n  const inputRef = React.useRef(null);\n  const theme = useTheme();\n  const userLanguage = useSelector((state) => state.options.userLanguage);\n  const t = useSelector((state) => state.options.t);\n\n  useLazyCSS('https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css', '#app-search');\n\n  React.useEffect(() => {\n    const handleKeyDown = (event) => {\n      // Use event.keyCode to support IE 11\n      if (\n        [\n          191, // '/'\n          83, // 's'\n        ].indexOf(event.keyCode) !== -1 &&\n        document.activeElement.nodeName === 'BODY' &&\n        document.activeElement !== inputRef.current\n      ) {\n        event.preventDefault();\n        inputRef.current.focus();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n\n  const desktop = useMediaQuery(theme.breakpoints.up('sm'));\n\n  React.useEffect(() => {\n    if (desktop) {\n      // This assumes that by the time this effect runs the Input component is committed\n      // this holds true as long as the effect and the component are in the same\n      // suspense boundary. If you move effect and component apart be sure to check\n      // that this assumption still holds\n      const search = docsearch({\n        apiKey: '1d8534f83b9b0cfea8f16498d19fbcab',\n        indexName: 'material-ui',\n        inputSelector: '#docsearch-input',\n        algoliaOptions: {\n          facetFilters: ['version:master', `language:${userLanguage}`],\n        },\n        autocompleteOptions: {\n          openOnFocus: true,\n        },\n        handleSelected: (input, event, suggestion) => {\n          event.button = 0;\n          const parseUrl = url.parse(suggestion.url);\n          handleEvent(event, parseUrl.pathname + parseUrl.hash);\n          input.close();\n        },\n        // debug: true, // Set debug to true if you want to inspect the dropdown.\n      });\n\n      search.autocomplete.on('autocomplete:cursorchanged', (event) => {\n        const combobox = event.target;\n        const selectedOptionNode = document.getElementById(\n          combobox.getAttribute('aria-activedescendant'),\n        );\n        const listboxNode = document.querySelector('.ds-suggestions').parentElement;\n\n        if (selectedOptionNode === null || listboxNode === null) {\n          if (process.env.NODE_ENV !== 'production') {\n            console.warn('Cant scroll to selected option.');\n          }\n          return;\n        }\n\n        // Scroll active descendant into view.\n        // Logic copied from https://www.w3.org/TR/wai-aria-practices/examples/listbox/js/listbox.js\n        //\n        // Consider this API instead once it has a better browser support:\n        // .scrollIntoView({ scrollMode: 'if-needed', block: 'nearest' });\n        if (listboxNode.scrollHeight > listboxNode.clientHeight) {\n          const element = selectedOptionNode;\n\n          const scrollBottom = listboxNode.clientHeight + listboxNode.scrollTop;\n          const elementBottom = element.offsetTop + element.offsetHeight;\n          if (elementBottom > scrollBottom) {\n            listboxNode.scrollTop = elementBottom - listboxNode.clientHeight;\n          } else if (element.offsetTop < listboxNode.scrollTop) {\n            listboxNode.scrollTop = element.offsetTop;\n          }\n        }\n      });\n    }\n  }, [desktop, userLanguage]);\n\n  return (\n    <div className={classes.root} style={{ display: desktop ? 'flex' : 'none' }}>\n      <div className={classes.search}>\n        <SearchIcon />\n      </div>\n      <Input\n        disableUnderline\n        placeholder={`${t('algoliaSearch')}…`}\n        inputProps={{\n          'aria-label': t('algoliaSearch'),\n        }}\n        type=\"search\"\n        id=\"docsearch-input\"\n        inputRef={inputRef}\n        classes={{\n          root: classes.inputRoot,\n          input: classes.inputInput,\n        }}\n      />\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}