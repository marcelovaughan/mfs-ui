{"ast":null,"code":"import React from 'react';\nimport { pathnameToLanguage } from \"../utils/helpers\"; // So we can write code like:\n//\n// <Button\n//   ga-event-category=\"demo\"\n//   ga-event-action=\"expand\"\n// >\n//   Foo\n// </Button>\n\nfunction handleClick(event) {\n  var element = event.target;\n\n  while (element && element !== document) {\n    var category = element.getAttribute('data-ga-event-category'); // We reach a tracking element, no need to look higher in the dom tree.\n\n    if (category) {\n      window.ga('send', {\n        hitType: 'event',\n        eventCategory: category,\n        eventAction: element.getAttribute('data-ga-event-action'),\n        eventLabel: element.getAttribute('data-ga-event-label'),\n        eventValue: element.getAttribute('data-ga-event-value')\n      });\n      break;\n    }\n\n    element = element.parentElement;\n  }\n}\n\nvar bound = false;\nexport default function GoogleAnalytics() {\n  React.useEffect(function () {\n    // Wait for the title to be updated.\n    setTimeout(function () {\n      var _pathnameToLanguage = pathnameToLanguage(window.location.pathname),\n          canonical = _pathnameToLanguage.canonical;\n\n      window.ga('set', {\n        page: canonical\n      });\n      window.ga('send', {\n        hitType: 'pageview'\n      });\n    });\n\n    if (bound) {\n      return;\n    }\n\n    bound = true;\n    document.addEventListener('click', handleClick);\n  }, []);\n  return null;\n}","map":{"version":3,"sources":["/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/GoogleAnalytics.js"],"names":["React","pathnameToLanguage","handleClick","event","element","target","document","category","getAttribute","window","ga","hitType","eventCategory","eventAction","eventLabel","eventValue","parentElement","bound","GoogleAnalytics","useEffect","setTimeout","location","pathname","canonical","page","addEventListener"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,kBAAT,2B,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAC1B,MAAIC,OAAO,GAAGD,KAAK,CAACE,MAApB;;AAEA,SAAOD,OAAO,IAAIA,OAAO,KAAKE,QAA9B,EAAwC;AACtC,QAAMC,QAAQ,GAAGH,OAAO,CAACI,YAAR,CAAqB,wBAArB,CAAjB,CADsC,CAGtC;;AACA,QAAID,QAAJ,EAAc;AACZE,MAAAA,MAAM,CAACC,EAAP,CAAU,MAAV,EAAkB;AAChBC,QAAAA,OAAO,EAAE,OADO;AAEhBC,QAAAA,aAAa,EAAEL,QAFC;AAGhBM,QAAAA,WAAW,EAAET,OAAO,CAACI,YAAR,CAAqB,sBAArB,CAHG;AAIhBM,QAAAA,UAAU,EAAEV,OAAO,CAACI,YAAR,CAAqB,qBAArB,CAJI;AAKhBO,QAAAA,UAAU,EAAEX,OAAO,CAACI,YAAR,CAAqB,qBAArB;AALI,OAAlB;AAOA;AACD;;AAEDJ,IAAAA,OAAO,GAAGA,OAAO,CAACY,aAAlB;AACD;AACF;;AAED,IAAIC,KAAK,GAAG,KAAZ;AAEA,eAAe,SAASC,eAAT,GAA2B;AACxClB,EAAAA,KAAK,CAACmB,SAAN,CAAgB,YAAM;AACpB;AACAC,IAAAA,UAAU,CAAC,YAAM;AAAA,gCACOnB,kBAAkB,CAACQ,MAAM,CAACY,QAAP,CAAgBC,QAAjB,CADzB;AAAA,UACPC,SADO,uBACPA,SADO;;AAEfd,MAAAA,MAAM,CAACC,EAAP,CAAU,KAAV,EAAiB;AAAEc,QAAAA,IAAI,EAAED;AAAR,OAAjB;AACAd,MAAAA,MAAM,CAACC,EAAP,CAAU,MAAV,EAAkB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAlB;AACD,KAJS,CAAV;;AAMA,QAAIM,KAAJ,EAAW;AACT;AACD;;AACDA,IAAAA,KAAK,GAAG,IAAR;AACAX,IAAAA,QAAQ,CAACmB,gBAAT,CAA0B,OAA1B,EAAmCvB,WAAnC;AACD,GAbD,EAaG,EAbH;AAeA,SAAO,IAAP;AACD","sourcesContent":["import React from 'react';\nimport { pathnameToLanguage } from 'docs/src/modules/utils/helpers';\n\n// So we can write code like:\n//\n// <Button\n//   ga-event-category=\"demo\"\n//   ga-event-action=\"expand\"\n// >\n//   Foo\n// </Button>\nfunction handleClick(event) {\n  let element = event.target;\n\n  while (element && element !== document) {\n    const category = element.getAttribute('data-ga-event-category');\n\n    // We reach a tracking element, no need to look higher in the dom tree.\n    if (category) {\n      window.ga('send', {\n        hitType: 'event',\n        eventCategory: category,\n        eventAction: element.getAttribute('data-ga-event-action'),\n        eventLabel: element.getAttribute('data-ga-event-label'),\n        eventValue: element.getAttribute('data-ga-event-value'),\n      });\n      break;\n    }\n\n    element = element.parentElement;\n  }\n}\n\nlet bound = false;\n\nexport default function GoogleAnalytics() {\n  React.useEffect(() => {\n    // Wait for the title to be updated.\n    setTimeout(() => {\n      const { canonical } = pathnameToLanguage(window.location.pathname);\n      window.ga('set', { page: canonical });\n      window.ga('send', { hitType: 'pageview' });\n    });\n\n    if (bound) {\n      return;\n    }\n    bound = true;\n    document.addEventListener('click', handleClick);\n  }, []);\n\n  return null;\n}\n"]},"metadata":{},"sourceType":"module"}