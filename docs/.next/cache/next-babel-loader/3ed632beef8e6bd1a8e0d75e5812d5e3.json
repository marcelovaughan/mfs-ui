{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime-corejs2/helpers/esm/objectWithoutProperties\";\nimport _Map from \"@babel/runtime-corejs2/core-js/map\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/DemoSandboxed.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { create } from 'jss';\nimport { makeStyles, useTheme, jssPreset, StylesProvider } from \"../../../../packages/material-ui/src/styles\";\nimport rtl from 'jss-rtl';\nimport { useSelector } from 'react-redux';\nimport DemoErrorBoundary from \"./DemoErrorBoundary\";\n\nfunction FramedDemo(props) {\n  var children = props.children,\n      document = props.document;\n  var theme = useTheme();\n  React.useEffect(function () {\n    document.body.dir = theme.direction;\n  }, [document, theme.direction]);\n\n  var _React$useMemo = React.useMemo(function () {\n    return {\n      jss: create({\n        plugins: [].concat(_toConsumableArray(jssPreset().plugins), [rtl()]),\n        insertionPoint: document.head\n      }),\n      sheetsManager: new _Map()\n    };\n  }, [document]),\n      jss = _React$useMemo.jss,\n      sheetsManager = _React$useMemo.sheetsManager;\n\n  var getWindow = React.useCallback(function () {\n    return document.defaultView;\n  }, [document]);\n  return __jsx(StylesProvider, {\n    jss: jss,\n    sheetsManager: sheetsManager,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.cloneElement(children, {\n    window: getWindow\n  }));\n}\n\nFramedDemo.propTypes = {\n  children: PropTypes.node,\n  document: PropTypes.object.isRequired\n};\nvar useStyles = makeStyles(function (theme) {\n  return {\n    frame: {\n      backgroundColor: theme.palette.background[\"default\"],\n      flexGrow: 1,\n      height: 400,\n      border: 'none',\n      boxShadow: theme.shadows[1]\n    }\n  };\n}, {\n  name: 'DemoFrame'\n});\n\nfunction DemoFrame(props) {\n  var _frameRef$current;\n\n  var children = props.children,\n      title = props.title,\n      other = _objectWithoutProperties(props, [\"children\", \"title\"]);\n\n  var classes = useStyles();\n  /**\n   * @type {import('react').Ref<HTMLIFrameElement>}\n   */\n\n  var frameRef = React.useRef(null); // If we portal content into the iframe before the load event then that content\n  // is dropped in firefox.\n\n  var _React$useReducer = React.useReducer(function () {\n    return true;\n  }, false),\n      iframeLoaded = _React$useReducer[0],\n      onLoad = _React$useReducer[1];\n\n  React.useEffect(function () {\n    var document = frameRef.current.contentDocument; // When we hydrate the iframe then the load event is already dispatched\n    // once the iframe markup is parsed (maybe later but the important part is\n    // that it happens before React can attach event listeners).\n    // We need to check the readyState of the document once the iframe is mounted\n    // and \"replay\" the missed load event.\n    // See https://github.com/facebook/react/pull/13862 for ongoing effort in React\n    // (though not with iframes in mind).\n\n    if (document != null && document.readyState === 'complete' && !iframeLoaded) {\n      onLoad();\n    }\n  }, [iframeLoaded]);\n  var document = (_frameRef$current = frameRef.current) === null || _frameRef$current === void 0 ? void 0 : _frameRef$current.contentDocument;\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, __jsx(\"iframe\", _extends({\n    className: classes.frame,\n    onLoad: onLoad,\n    ref: frameRef,\n    title: title\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  })), iframeLoaded !== false ? /*#__PURE__*/ReactDOM.createPortal(__jsx(FramedDemo, {\n    document: document,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, children), document.body) : null);\n}\n\nDemoFrame.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string.isRequired\n};\n/**\n * Isolates the demo component as best as possible. Additional props are spread\n * to an `iframe` if `iframe={true}`.\n */\n\nfunction DemoSandboxed(props) {\n  var Component = props.component,\n      iframe = props.iframe,\n      name = props.name,\n      onResetDemoClick = props.onResetDemoClick,\n      other = _objectWithoutProperties(props, [\"component\", \"iframe\", \"name\", \"onResetDemoClick\"]);\n\n  var Sandbox = iframe ? DemoFrame : React.Fragment;\n  var sandboxProps = iframe ? _objectSpread({\n    title: \"\".concat(name, \" demo\")\n  }, other) : {};\n  var t = useSelector(function (state) {\n    return state.options.t;\n  });\n  return __jsx(DemoErrorBoundary, {\n    onResetDemoClick: onResetDemoClick,\n    t: t,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, __jsx(Sandbox, _extends({}, sandboxProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }), __jsx(Component, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  })));\n}\n\nDemoSandboxed.propTypes = {\n  component: PropTypes.elementType.isRequired,\n  iframe: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  onResetDemoClick: PropTypes.func.isRequired\n};\nexport default /*#__PURE__*/React.memo(DemoSandboxed);","map":{"version":3,"sources":["/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/DemoSandboxed.js"],"names":["children","document","props","theme","useTheme","React","jss","sheetsManager","create","plugins","jssPreset","rtl","insertionPoint","head","getWindow","window","FramedDemo","PropTypes","isRequired","useStyles","makeStyles","frame","backgroundColor","flexGrow","height","border","boxShadow","name","title","other","classes","frameRef","iframeLoaded","onLoad","DemoFrame","Component","iframe","onResetDemoClick","Sandbox","sandboxProps","t","useSelector","state","DemoSandboxed","component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { create } from 'jss';\nimport { makeStyles, useTheme, jssPreset, StylesProvider } from '@material-ui/core/styles';\nimport rtl from 'jss-rtl';\nimport { useSelector } from 'react-redux';\nimport DemoErrorBoundary from 'docs/src/modules/components/DemoErrorBoundary';\n\nfunction FramedDemo(props) {\n  const { children, document } = props;\n\n  const theme = useTheme();\n  React.useEffect(() => {\n    document.body.dir = theme.direction;\n  }, [document, theme.direction]);\n\n  const { jss, sheetsManager } = React.useMemo(() => {\n    return {\n      jss: create({\n        plugins: [...jssPreset().plugins, rtl()],\n        insertionPoint: document.head,\n      }),\n      sheetsManager: new Map(),\n    };\n  }, [document]);\n\n  const getWindow = React.useCallback(() => document.defaultView, [document]);\n\n  return (\n    <StylesProvider jss={jss} sheetsManager={sheetsManager}>\n      {React.cloneElement(children, {\n        window: getWindow,\n      })}\n    </StylesProvider>\n  );\n}\nFramedDemo.propTypes = {\n  children: PropTypes.node,\n  document: PropTypes.object.isRequired,\n};\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    frame: {\n      backgroundColor: theme.palette.background.default,\n      flexGrow: 1,\n      height: 400,\n      border: 'none',\n      boxShadow: theme.shadows[1],\n    },\n  }),\n  { name: 'DemoFrame' },\n);\n\nfunction DemoFrame(props) {\n  const { children, title, ...other } = props;\n  const classes = useStyles();\n  /**\n   * @type {import('react').Ref<HTMLIFrameElement>}\n   */\n  const frameRef = React.useRef(null);\n\n  // If we portal content into the iframe before the load event then that content\n  // is dropped in firefox.\n  const [iframeLoaded, onLoad] = React.useReducer(() => true, false);\n\n  React.useEffect(() => {\n    const document = frameRef.current.contentDocument;\n    // When we hydrate the iframe then the load event is already dispatched\n    // once the iframe markup is parsed (maybe later but the important part is\n    // that it happens before React can attach event listeners).\n    // We need to check the readyState of the document once the iframe is mounted\n    // and \"replay\" the missed load event.\n    // See https://github.com/facebook/react/pull/13862 for ongoing effort in React\n    // (though not with iframes in mind).\n    if (document != null && document.readyState === 'complete' && !iframeLoaded) {\n      onLoad();\n    }\n  }, [iframeLoaded]);\n\n  const document = frameRef.current?.contentDocument;\n  return (\n    <React.Fragment>\n      <iframe className={classes.frame} onLoad={onLoad} ref={frameRef} title={title} {...other} />\n      {iframeLoaded !== false\n        ? ReactDOM.createPortal(\n            <FramedDemo document={document}>{children}</FramedDemo>,\n            document.body,\n          )\n        : null}\n    </React.Fragment>\n  );\n}\n\nDemoFrame.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string.isRequired,\n};\n\n/**\n * Isolates the demo component as best as possible. Additional props are spread\n * to an `iframe` if `iframe={true}`.\n */\nfunction DemoSandboxed(props) {\n  const { component: Component, iframe, name, onResetDemoClick, ...other } = props;\n  const Sandbox = iframe ? DemoFrame : React.Fragment;\n  const sandboxProps = iframe ? { title: `${name} demo`, ...other } : {};\n\n  const t = useSelector((state) => state.options.t);\n\n  return (\n    <DemoErrorBoundary onResetDemoClick={onResetDemoClick} t={t}>\n      <Sandbox {...sandboxProps}>\n        <Component />\n      </Sandbox>\n    </DemoErrorBoundary>\n  );\n}\n\nDemoSandboxed.propTypes = {\n  component: PropTypes.elementType.isRequired,\n  iframe: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  onResetDemoClick: PropTypes.func.isRequired,\n};\n\nexport default React.memo(DemoSandboxed);\n"]},"metadata":{},"sourceType":"module"}