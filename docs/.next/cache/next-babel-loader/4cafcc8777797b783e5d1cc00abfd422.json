{"ast":null,"code":"var _jsxFileName = \"/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/ThemeContext.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider as MuiThemeProvider, createMuiTheme as createLegacyModeTheme, unstable_createMuiStrictModeTheme as createStrictModeTheme, darken } from \"../../../../packages/material-ui/src/styles\";\nimport { useSelector } from 'react-redux';\nimport useMediaQuery from \"../../../../packages/material-ui/src/useMediaQuery\";\nimport { enUS, zhCN, faIR, ruRU, ptBR, esES, frFR, deDE, jaJP } from \"../../../../packages/material-ui/src/locale\";\nimport { blue, pink } from \"../../../../packages/material-ui/src/colors\";\nimport { getCookie } from \"../utils/helpers\";\nimport useLazyCSS from \"../utils/useLazyCSS\";\nconst languageMap = {\n  en: enUS,\n  zh: zhCN,\n  fa: faIR,\n  ru: ruRU,\n  pt: ptBR,\n  es: esES,\n  fr: frFR,\n  de: deDE,\n  ja: jaJP\n};\nexport const themeColor = blue[700];\nconst themeInitialOptions = {\n  dense: false,\n  direction: 'ltr',\n  paletteColors: {},\n  spacing: 8 // spacing unit\n\n};\nconst highDensity = {\n  props: {\n    MuiButton: {\n      size: 'small'\n    },\n    MuiFilledInput: {\n      margin: 'dense'\n    },\n    MuiFormControl: {\n      margin: 'dense'\n    },\n    MuiFormHelperText: {\n      margin: 'dense'\n    },\n    MuiIconButton: {\n      size: 'small'\n    },\n    MuiInputBase: {\n      margin: 'dense'\n    },\n    MuiInputLabel: {\n      margin: 'dense'\n    },\n    MuiListItem: {\n      dense: true\n    },\n    MuiOutlinedInput: {\n      margin: 'dense'\n    },\n    MuiFab: {\n      size: 'small'\n    },\n    MuiTable: {\n      size: 'small'\n    },\n    MuiTextField: {\n      margin: 'dense'\n    },\n    MuiToolbar: {\n      variant: 'dense'\n    }\n  },\n  overrides: {\n    MuiIconButton: {\n      sizeSmall: {\n        // minimal touch target hit spacing\n        marginLeft: 4,\n        marginRight: 4,\n        padding: 12\n      }\n    }\n  }\n};\nexport const DispatchContext = React.createContext(() => {\n  throw new Error('Forgot to wrap component in `ThemeProvider`');\n});\n\nif (true) {\n  DispatchContext.displayName = 'ThemeDispatchContext';\n}\n\nconst useEnhancedEffect = true ? React.useEffect : React.useLayoutEffect;\nlet createMuiTheme;\n\nif (process.env.REACT_MODE === 'legacy') {\n  createMuiTheme = createLegacyModeTheme;\n} else {\n  createMuiTheme = createStrictModeTheme;\n}\n\nexport function ThemeProvider(props) {\n  const {\n    children\n  } = props;\n  const [themeOptions, dispatch] = React.useReducer((state, action) => {\n    switch (action.type) {\n      case 'SET_SPACING':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          spacing: action.payload\n        });\n\n      case 'INCREASE_SPACING':\n        {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            spacing: state.spacing + 1\n          });\n        }\n\n      case 'DECREASE_SPACING':\n        {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            spacing: state.spacing - 1\n          });\n        }\n\n      case 'SET_DENSE':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          dense: action.payload\n        });\n\n      case 'RESET_DENSITY':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          dense: themeInitialOptions.dense,\n          spacing: themeInitialOptions.spacing\n        });\n\n      case 'RESET_COLORS':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          paletteColors: themeInitialOptions.paletteColors\n        });\n\n      case 'CHANGE':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          paletteType: action.payload.paletteType || state.paletteType,\n          direction: action.payload.direction || state.direction,\n          paletteColors: action.payload.paletteColors || state.paletteColors\n        });\n\n      default:\n        throw new Error(`Unrecognized type ${action.type}`);\n    }\n  }, themeInitialOptions);\n  const userLanguage = useSelector(state => state.options.userLanguage);\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const preferredType = prefersDarkMode ? 'dark' : 'light';\n  const {\n    dense,\n    direction,\n    paletteColors,\n    paletteType = preferredType,\n    spacing\n  } = themeOptions;\n  useLazyCSS('/static/styles/prism-okaidia.css', '#prismjs');\n  React.useEffect(() => {\n    if (false) {\n      const nextPaletteColors = JSON.parse(getCookie('paletteColors') || 'null');\n      const nextPaletteType = getCookie('paletteType');\n      dispatch({\n        type: 'CHANGE',\n        payload: {\n          paletteColors: nextPaletteColors,\n          paletteType: nextPaletteType\n        }\n      });\n    }\n  }, []); // persist paletteType\n\n  React.useEffect(() => {\n    document.cookie = `paletteType=${paletteType};path=/;max-age=31536000`;\n  }, [paletteType]);\n  useEnhancedEffect(() => {\n    document.body.dir = direction;\n  }, [direction]);\n  const theme = React.useMemo(() => {\n    const nextTheme = createMuiTheme({\n      direction,\n      nprogress: {\n        color: paletteType === 'light' ? '#000' : '#fff'\n      },\n      palette: _objectSpread({\n        primary: {\n          main: paletteType === 'light' ? blue[700] : blue[200]\n        },\n        secondary: {\n          main: paletteType === 'light' ? darken(pink.A400, 0.1) : pink[200]\n        },\n        type: paletteType,\n        background: {\n          default: paletteType === 'light' ? '#fff' : '#121212'\n        }\n      }, paletteColors),\n      spacing\n    }, dense ? highDensity : null, languageMap[userLanguage]);\n    nextTheme.palette.background.level2 = paletteType === 'light' ? nextTheme.palette.grey[100] : '#333';\n    nextTheme.palette.background.level1 = paletteType === 'light' ? '#fff' : nextTheme.palette.grey[900];\n    return nextTheme;\n  }, [dense, direction, paletteColors, paletteType, spacing, userLanguage]);\n  React.useEffect(() => {\n    // Expose the theme as a global variable so people can play with it.\n    if (false) {\n      window.theme = theme;\n    }\n  }, [theme]);\n  return __jsx(MuiThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }\n  }, __jsx(DispatchContext.Provider, {\n    value: dispatch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }, children));\n}\nThemeProvider.propTypes = {\n  children: PropTypes.node\n};\n/**\n * @returns {(nextOptions: Partial<typeof themeInitialOptions>) => void}\n */\n\nexport function useChangeTheme() {\n  const dispatch = React.useContext(DispatchContext);\n  return React.useCallback(options => dispatch({\n    type: 'CHANGE',\n    payload: options\n  }), [dispatch]);\n}","map":{"version":3,"sources":["/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/ThemeContext.js"],"names":["ThemeProvider","createMuiTheme","unstable_createMuiStrictModeTheme","languageMap","en","zh","fa","ru","pt","es","fr","de","ja","jaJP","themeColor","blue","themeInitialOptions","dense","direction","paletteColors","spacing","highDensity","props","MuiButton","size","MuiFilledInput","margin","MuiFormControl","MuiFormHelperText","MuiIconButton","MuiInputBase","MuiInputLabel","MuiListItem","MuiOutlinedInput","MuiFab","MuiTable","MuiTextField","MuiToolbar","variant","overrides","sizeSmall","marginLeft","marginRight","padding","DispatchContext","useEnhancedEffect","React","process","children","action","payload","state","paletteType","type","userLanguage","useSelector","prefersDarkMode","useMediaQuery","preferredType","useLazyCSS","nextPaletteColors","JSON","getCookie","nextPaletteType","dispatch","document","theme","nextTheme","nprogress","color","palette","primary","main","secondary","darken","pink","background","default","window","PropTypes","node","options"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  ThemeProvider as MuiThemeProvider,\n  createMuiTheme as createLegacyModeTheme,\n  unstable_createMuiStrictModeTheme as createStrictModeTheme,\n  darken,\n} from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { enUS, zhCN, faIR, ruRU, ptBR, esES, frFR, deDE, jaJP } from '@material-ui/core/locale';\nimport { blue, pink } from '@material-ui/core/colors';\nimport { getCookie } from 'docs/src/modules/utils/helpers';\nimport useLazyCSS from 'docs/src/modules/utils/useLazyCSS';\n\nconst languageMap = {\n  en: enUS,\n  zh: zhCN,\n  fa: faIR,\n  ru: ruRU,\n  pt: ptBR,\n  es: esES,\n  fr: frFR,\n  de: deDE,\n  ja: jaJP,\n};\n\nexport const themeColor = blue[700];\n\nconst themeInitialOptions = {\n  dense: false,\n  direction: 'ltr',\n  paletteColors: {},\n  spacing: 8, // spacing unit\n};\n\nconst highDensity = {\n  props: {\n    MuiButton: {\n      size: 'small',\n    },\n    MuiFilledInput: {\n      margin: 'dense',\n    },\n    MuiFormControl: {\n      margin: 'dense',\n    },\n    MuiFormHelperText: {\n      margin: 'dense',\n    },\n    MuiIconButton: {\n      size: 'small',\n    },\n    MuiInputBase: {\n      margin: 'dense',\n    },\n    MuiInputLabel: {\n      margin: 'dense',\n    },\n    MuiListItem: {\n      dense: true,\n    },\n    MuiOutlinedInput: {\n      margin: 'dense',\n    },\n    MuiFab: {\n      size: 'small',\n    },\n    MuiTable: {\n      size: 'small',\n    },\n    MuiTextField: {\n      margin: 'dense',\n    },\n    MuiToolbar: {\n      variant: 'dense',\n    },\n  },\n  overrides: {\n    MuiIconButton: {\n      sizeSmall: {\n        // minimal touch target hit spacing\n        marginLeft: 4,\n        marginRight: 4,\n        padding: 12,\n      },\n    },\n  },\n};\n\nexport const DispatchContext = React.createContext(() => {\n  throw new Error('Forgot to wrap component in `ThemeProvider`');\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  DispatchContext.displayName = 'ThemeDispatchContext';\n}\n\nconst useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n\nlet createMuiTheme;\nif (process.env.REACT_MODE === 'legacy') {\n  createMuiTheme = createLegacyModeTheme;\n} else {\n  createMuiTheme = createStrictModeTheme;\n}\n\nexport function ThemeProvider(props) {\n  const { children } = props;\n\n  const [themeOptions, dispatch] = React.useReducer((state, action) => {\n    switch (action.type) {\n      case 'SET_SPACING':\n        return {\n          ...state,\n          spacing: action.payload,\n        };\n      case 'INCREASE_SPACING': {\n        return {\n          ...state,\n          spacing: state.spacing + 1,\n        };\n      }\n      case 'DECREASE_SPACING': {\n        return {\n          ...state,\n          spacing: state.spacing - 1,\n        };\n      }\n      case 'SET_DENSE':\n        return {\n          ...state,\n          dense: action.payload,\n        };\n      case 'RESET_DENSITY':\n        return {\n          ...state,\n          dense: themeInitialOptions.dense,\n          spacing: themeInitialOptions.spacing,\n        };\n      case 'RESET_COLORS':\n        return {\n          ...state,\n          paletteColors: themeInitialOptions.paletteColors,\n        };\n      case 'CHANGE':\n        return {\n          ...state,\n          paletteType: action.payload.paletteType || state.paletteType,\n          direction: action.payload.direction || state.direction,\n          paletteColors: action.payload.paletteColors || state.paletteColors,\n        };\n      default:\n        throw new Error(`Unrecognized type ${action.type}`);\n    }\n  }, themeInitialOptions);\n\n  const userLanguage = useSelector((state) => state.options.userLanguage);\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const preferredType = prefersDarkMode ? 'dark' : 'light';\n  const { dense, direction, paletteColors, paletteType = preferredType, spacing } = themeOptions;\n\n  useLazyCSS('/static/styles/prism-okaidia.css', '#prismjs');\n\n  React.useEffect(() => {\n    if (process.browser) {\n      const nextPaletteColors = JSON.parse(getCookie('paletteColors') || 'null');\n      const nextPaletteType = getCookie('paletteType');\n\n      dispatch({\n        type: 'CHANGE',\n        payload: { paletteColors: nextPaletteColors, paletteType: nextPaletteType },\n      });\n    }\n  }, []);\n\n  // persist paletteType\n  React.useEffect(() => {\n    document.cookie = `paletteType=${paletteType};path=/;max-age=31536000`;\n  }, [paletteType]);\n\n  useEnhancedEffect(() => {\n    document.body.dir = direction;\n  }, [direction]);\n\n  const theme = React.useMemo(() => {\n    const nextTheme = createMuiTheme(\n      {\n        direction,\n        nprogress: {\n          color: paletteType === 'light' ? '#000' : '#fff',\n        },\n        palette: {\n          primary: {\n            main: paletteType === 'light' ? blue[700] : blue[200],\n          },\n          secondary: {\n            main: paletteType === 'light' ? darken(pink.A400, 0.1) : pink[200],\n          },\n          type: paletteType,\n          background: {\n            default: paletteType === 'light' ? '#fff' : '#121212',\n          },\n          ...paletteColors,\n        },\n        spacing,\n      },\n      dense ? highDensity : null,\n      languageMap[userLanguage],\n    );\n\n    nextTheme.palette.background.level2 =\n      paletteType === 'light' ? nextTheme.palette.grey[100] : '#333';\n\n    nextTheme.palette.background.level1 =\n      paletteType === 'light' ? '#fff' : nextTheme.palette.grey[900];\n\n    return nextTheme;\n  }, [dense, direction, paletteColors, paletteType, spacing, userLanguage]);\n\n  React.useEffect(() => {\n    // Expose the theme as a global variable so people can play with it.\n    if (process.browser) {\n      window.theme = theme;\n    }\n  }, [theme]);\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <DispatchContext.Provider value={dispatch}>{children}</DispatchContext.Provider>\n    </MuiThemeProvider>\n  );\n}\n\nThemeProvider.propTypes = {\n  children: PropTypes.node,\n};\n\n/**\n * @returns {(nextOptions: Partial<typeof themeInitialOptions>) => void}\n */\nexport function useChangeTheme() {\n  const dispatch = React.useContext(DispatchContext);\n  return React.useCallback((options) => dispatch({ type: 'CHANGE', payload: options }), [dispatch]);\n}\n"]},"metadata":{},"sourceType":"module"}