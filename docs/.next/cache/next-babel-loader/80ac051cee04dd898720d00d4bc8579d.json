{"ast":null,"code":"import React from 'react';\nimport { pathnameToLanguage } from \"../utils/helpers\"; // So we can write code like:\n//\n// <Button\n//   ga-event-category=\"demo\"\n//   ga-event-action=\"expand\"\n// >\n//   Foo\n// </Button>\n\nfunction handleClick(event) {\n  var element = event.target;\n\n  while (element && element !== document) {\n    var category = element.getAttribute('data-ga-event-category'); // We reach a tracking element, no need to look higher in the dom tree.\n\n    if (category) {\n      window.ga('send', {\n        hitType: 'event',\n        eventCategory: category,\n        eventAction: element.getAttribute('data-ga-event-action'),\n        eventLabel: element.getAttribute('data-ga-event-label'),\n        eventValue: element.getAttribute('data-ga-event-value')\n      });\n      break;\n    }\n\n    element = element.parentElement;\n  }\n}\n\nvar bound = false;\nexport default function GoogleAnalytics() {\n  React.useEffect(function () {\n    // Wait for the title to be updated.\n    setTimeout(function () {\n      var _pathnameToLanguage = pathnameToLanguage(window.location.pathname),\n          canonical = _pathnameToLanguage.canonical;\n\n      window.ga('set', {\n        page: canonical\n      });\n      window.ga('send', {\n        hitType: 'pageview'\n      });\n    });\n\n    if (bound) {\n      return;\n    }\n\n    bound = true;\n    document.addEventListener('click', handleClick);\n  }, []);\n  return null;\n}","map":{"version":3,"sources":["/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/GoogleAnalytics.js"],"names":["element","event","category","window","hitType","eventCategory","eventAction","eventLabel","eventValue","bound","React","setTimeout","canonical","pathnameToLanguage","page","document"],"mappings":"AAAA,OAAA,KAAA,MAAA,OAAA;AACA,SAAA,kBAAA,2B,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,SAAA,WAAA,CAAA,KAAA,EAA4B;AAC1B,MAAIA,OAAO,GAAGC,KAAK,CAAnB,MAAA;;AAEA,SAAOD,OAAO,IAAIA,OAAO,KAAzB,QAAA,EAAwC;AACtC,QAAME,QAAQ,GAAGF,OAAO,CAAPA,YAAAA,CADqB,wBACrBA,CAAjB,CADsC,CAGtC;;AACA,QAAA,QAAA,EAAc;AACZG,MAAAA,MAAM,CAANA,EAAAA,CAAAA,MAAAA,EAAkB;AAChBC,QAAAA,OAAO,EADS,OAAA;AAEhBC,QAAAA,aAAa,EAFG,QAAA;AAGhBC,QAAAA,WAAW,EAAEN,OAAO,CAAPA,YAAAA,CAHG,sBAGHA,CAHG;AAIhBO,QAAAA,UAAU,EAAEP,OAAO,CAAPA,YAAAA,CAJI,qBAIJA,CAJI;AAKhBQ,QAAAA,UAAU,EAAER,OAAO,CAAPA,YAAAA,CAAAA,qBAAAA;AALI,OAAlBG;AAOA;AACD;;AAEDH,IAAAA,OAAO,GAAGA,OAAO,CAAjBA,aAAAA;AACD;AACF;;AAED,IAAIS,KAAK,GAAT,KAAA;AAEA,eAAe,SAAA,eAAA,GAA2B;AACxCC,EAAAA,KAAK,CAALA,SAAAA,CAAgB,YAAM;AACpB;AACAC,IAAAA,UAAU,CAAC,YAAM;AAAA,UAAA,mBAAA,GACOE,kBAAkB,CAACV,MAAM,CAANA,QAAAA,CAD1B,QACyB,CADzB;AAAA,UACPS,SADO,GAAA,mBAAA,CAAA,SAAA;;AAEfT,MAAAA,MAAM,CAANA,EAAAA,CAAAA,KAAAA,EAAiB;AAAEW,QAAAA,IAAI,EAAEF;AAAR,OAAjBT;AACAA,MAAAA,MAAM,CAANA,EAAAA,CAAAA,MAAAA,EAAkB;AAAEC,QAAAA,OAAO,EAAE;AAAX,OAAlBD;AAHFQ,KAAU,CAAVA;;AAMA,QAAA,KAAA,EAAW;AACT;AACD;;AACDF,IAAAA,KAAK,GAALA,IAAAA;AACAM,IAAAA,QAAQ,CAARA,gBAAAA,CAAAA,OAAAA,EAAAA,WAAAA;AAZFL,GAAAA,EAAAA,EAAAA;AAeA,SAAA,IAAA;AACD","sourcesContent":["import React from 'react';\nimport { pathnameToLanguage } from 'docs/src/modules/utils/helpers';\n\n// So we can write code like:\n//\n// <Button\n//   ga-event-category=\"demo\"\n//   ga-event-action=\"expand\"\n// >\n//   Foo\n// </Button>\nfunction handleClick(event) {\n  let element = event.target;\n\n  while (element && element !== document) {\n    const category = element.getAttribute('data-ga-event-category');\n\n    // We reach a tracking element, no need to look higher in the dom tree.\n    if (category) {\n      window.ga('send', {\n        hitType: 'event',\n        eventCategory: category,\n        eventAction: element.getAttribute('data-ga-event-action'),\n        eventLabel: element.getAttribute('data-ga-event-label'),\n        eventValue: element.getAttribute('data-ga-event-value'),\n      });\n      break;\n    }\n\n    element = element.parentElement;\n  }\n}\n\nlet bound = false;\n\nexport default function GoogleAnalytics() {\n  React.useEffect(() => {\n    // Wait for the title to be updated.\n    setTimeout(() => {\n      const { canonical } = pathnameToLanguage(window.location.pathname);\n      window.ga('set', { page: canonical });\n      window.ga('send', { hitType: 'pageview' });\n    });\n\n    if (bound) {\n      return;\n    }\n    bound = true;\n    document.addEventListener('click', handleClick);\n  }, []);\n\n  return null;\n}\n"]},"metadata":{},"sourceType":"module"}