{"ast":null,"code":"var _extends = require(\"@babel/runtime-corejs2/helpers/extends\");\n\nvar _Object$keys = require(\"@babel/runtime-corejs2/core-js/object/keys\");\n\nvar upperFirst = require('lodash/upperFirst');\n\nvar camelCase = require('lodash/camelCase');\n\nvar _require = require(\"../constants\"),\n    CODE_VARIANTS = _require.CODE_VARIANTS,\n    LANGUAGES = _require.LANGUAGES;\n\nfunction titleize(string) {\n  if (false) {\n    if (typeof string !== 'string' || string.length <= 0) {\n      console.error('titleize(string) expects a non empty string argument.');\n    }\n  }\n\n  return string.split('-').map(function (word) {\n    return word.charAt(0).toUpperCase() + word.slice(1);\n  }).join(' ');\n}\n\nfunction pageToTitle(page) {\n  if (page.title === false) {\n    return null;\n  }\n\n  if (page.title) {\n    return page.title;\n  }\n\n  var path = page.subheader || page.pathname;\n  var name = path.replace(/.*\\//, '');\n\n  if (path.indexOf('/api/') !== -1) {\n    return upperFirst(camelCase(name));\n  }\n\n  return titleize(name);\n}\n\nfunction pageToTitleI18n(page, t) {\n  var path = page.subheader || page.pathname;\n  return t(\"pages.\".concat(path), {\n    ignoreWarning: true\n  }) || pageToTitle(page);\n}\n/**\n * @var\n * set of packages that ship their own typings instead of using @types/ namespace\n * Array because Set([iterable]) is not supported in IE11\n */\n\n\nvar packagesWithBundledTypes = ['@material-ui/core', '@material-ui/lab'];\n/**\n * WARNING: Always uses `latest` typings.\n *\n * Adds dependencies to @types packages only for packages that are not listed\n * in packagesWithBundledTypes\n *\n * @see packagesWithBundledTypes in this module namespace\n *\n * @param {Record<string, string>} deps - list of dependency as `name => version`\n */\n\nfunction addTypeDeps(deps) {\n  var packagesWithDTPackage = _Object$keys(deps).filter(function (name) {\n    return packagesWithBundledTypes.indexOf(name) === -1;\n  });\n\n  packagesWithDTPackage.forEach(function (name) {\n    var resolvedName = name; // scoped package?\n\n    if (name.startsWith('@')) {\n      // https://github.com/DefinitelyTyped/DefinitelyTyped#what-about-scoped-packages\n      resolvedName = name.slice(1).replace('/', '__');\n    }\n\n    deps[\"@types/\".concat(resolvedName)] = 'latest';\n  });\n}\n\nfunction includePeerDependencies(deps, versions) {\n  _extends(deps, {\n    'react-dom': versions['react-dom'],\n    react: versions.react\n  });\n\n  if (deps['@material-ui/lab'] && !deps['@material-ui/core']) {\n    deps['@material-ui/core'] = versions['@material-ui/core'];\n  }\n}\n/**\n * @param {string} raw - ES6 source with es module imports\n * @param {objects} options\n * @param {'JS' | 'TS'} options.codeLanguage\n * @param {'next' | 'latest'} options.reactVersion\n * @returns {Record<string, 'latest'>} map of packages with their required version\n */\n\n\nfunction getDependencies(raw) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$codeLanguage = options.codeLanguage,\n      codeLanguage = _options$codeLanguage === void 0 ? CODE_VARIANTS.JS : _options$codeLanguage,\n      _options$reactVersion = options.reactVersion,\n      reactVersion = _options$reactVersion === void 0 ? 'latest' : _options$reactVersion;\n  var deps = {};\n  var versions = {\n    'react-dom': reactVersion,\n    react: reactVersion,\n    '@material-ui/core': 'latest',\n    '@material-ui/icons': 'latest',\n    '@material-ui/lab': 'latest',\n    '@material-ui/styles': 'latest',\n    '@material-ui/system': 'latest',\n    '@material-ui/utils': 'latest',\n    // TODO: remove once @material-ui/pickers v4 is released.\n    '@date-io/date-fns': 'v1'\n  };\n  var re = /^import\\s'([^']+)'|import\\s[\\s\\S]*?\\sfrom\\s+'([^']+)/gm;\n  var m; // eslint-disable-next-line no-cond-assign\n\n  while (m = re.exec(raw)) {\n    var name = void 0;\n\n    if (m[2]) {\n      // full import\n      // handle scope names\n      name = m[2].charAt(0) === '@' ? m[2].split('/', 2).join('/') : m[2].split('/', 1)[0];\n    } else {\n      name = m[1];\n    }\n\n    if (!deps[name]) {\n      deps[name] = versions[name] ? versions[name] : 'latest';\n    }\n  }\n\n  includePeerDependencies(deps, versions);\n\n  if (codeLanguage === CODE_VARIANTS.TS) {\n    addTypeDeps(deps);\n    deps.typescript = 'latest';\n  }\n\n  return deps;\n}\n\nfunction getCookie(name) {\n  var regex = new RegExp(\"(?:(?:^|.*;*)\".concat(name, \"*=*([^;]*).*$)|^.*$\"));\n  return document.cookie.replace(regex, '$1');\n}\n\nfunction pathnameToLanguage(pathname) {\n  var userLanguage = pathname.substring(1, 3);\n\n  if (LANGUAGES.indexOf(userLanguage) !== -1 && pathname.indexOf(\"/\".concat(userLanguage, \"/\")) === 0) {\n    return {\n      userLanguage: userLanguage,\n      canonical: userLanguage === 'en' ? pathname : pathname.substring(3)\n    };\n  }\n\n  return {\n    userLanguage: 'en',\n    canonical: pathname\n  };\n}\n\nmodule.exports = {\n  titleize: titleize,\n  pageToTitle: pageToTitle,\n  pageToTitleI18n: pageToTitleI18n,\n  getDependencies: getDependencies,\n  getCookie: getCookie,\n  pathnameToLanguage: pathnameToLanguage\n};","map":null,"metadata":{},"sourceType":"script"}