{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread2\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nvar _jsxFileName = \"/home/marcelo.faria/Documentos/b2w/msf-ui/docs/pages/_app.js\";\nvar __jsx = React.createElement;\n/* eslint-disable no-underscore-dangle */\n\nimport \"../src/modules/components/bootstrap\"; // --- Post bootstrap -----\n\nimport React from 'react';\nimport find from 'lodash/find';\nimport { Provider as ReduxProvider, useDispatch, useSelector } from 'react-redux';\nimport { loadCSS } from 'fg-loadcss/src/loadCSS';\nimport NextHead from 'next/head';\nimport PropTypes from 'prop-types';\nimport acceptLanguage from 'accept-language';\nimport { create } from 'jss';\nimport rtl from 'jss-rtl';\nimport { useRouter } from 'next/router';\nimport { rewriteUrlForNextExport } from 'next/dist/next-server/lib/router/rewrite-url-for-export';\nimport { StylesProvider, jssPreset } from \"../../packages/material-ui-styles/src\";\nimport pages from \"../src/pages\";\nimport initRedux from \"../src/modules/redux/initRedux\";\nimport PageContext from \"../src/modules/components/PageContext\";\nimport GoogleAnalytics from \"../src/modules/components/GoogleAnalytics\";\nimport loadScript from \"../src/modules/utils/loadScript\";\nimport { ThemeProvider } from \"../src/modules/components/ThemeContext\";\nimport { pathnameToLanguage, getCookie } from \"../src/modules/utils/helpers\";\nimport { ACTION_TYPES, CODE_VARIANTS } from \"../src/modules/constants\"; // Configure JSS\n\nvar jss = create({\n  plugins: [].concat(_toConsumableArray(jssPreset().plugins), [rtl()]),\n  insertionPoint: true ? document.querySelector('#insertion-point-jss') : null\n});\n\nfunction useFirstRender() {\n  var firstRenderRef = React.useRef(true);\n  React.useEffect(function () {\n    firstRenderRef.current = false;\n  }, []);\n  return firstRenderRef.current;\n}\n\nacceptLanguage.languages(['en', 'zh', 'pt']);\n\nfunction loadCrowdin() {\n  window._jipt = [];\n\n  window._jipt.push(['project', 'material-ui-docs']);\n\n  loadScript('https://cdn.crowdin.com/jipt/jipt.js', document.querySelector('head'));\n}\n\nfunction LanguageNegotiation() {\n  var dispatch = useDispatch();\n  var router = useRouter();\n  var userLanguage = useSelector(function (state) {\n    return state.options.userLanguage;\n  });\n  React.useEffect(function () {\n    if (userLanguage === 'aa') {\n      loadCrowdin();\n    }\n  }, [userLanguage]);\n  React.useEffect(function () {\n    var _pathnameToLanguage = pathnameToLanguage(rewriteUrlForNextExport(router.asPath)),\n        userLanguageUrl = _pathnameToLanguage.userLanguage,\n        canonical = _pathnameToLanguage.canonical;\n\n    var preferedLanguage = getCookie('userLanguage') !== 'noDefault' && userLanguage === 'en' ? acceptLanguage.get(navigator.language) : userLanguage;\n\n    if (preferedLanguage !== userLanguage) {\n      window.location = preferedLanguage === 'en' ? canonical : \"/\".concat(preferedLanguage).concat(canonical);\n    } else if (userLanguageUrl !== userLanguage) {\n      dispatch({\n        type: ACTION_TYPES.OPTIONS_CHANGE,\n        payload: {\n          userLanguage: userLanguageUrl\n        }\n      });\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return null;\n}\n/**\n * Priority: on first render: navigated value, persisted value; otherwise initial value, 'JS'\n *\n * @returns {string} - The persisted variant if the initial value is undefined\n */\n\n\nfunction usePersistCodeVariant() {\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.options;\n  }),\n      _useSelector$codeVari = _useSelector.codeVariant,\n      initialCodeVariant = _useSelector$codeVari === void 0 ? CODE_VARIANTS.JS : _useSelector$codeVari;\n\n  var isFirstRender = useFirstRender();\n  var navigatedCodeVariant = React.useMemo(function () {\n    var navigatedCodeVariantMatch = true ? window.location.hash.match(/\\.(js|tsx)$/) : null;\n\n    if (navigatedCodeVariantMatch === null) {\n      return undefined;\n    }\n\n    return navigatedCodeVariantMatch[1] === 'tsx' ? CODE_VARIANTS.TS : CODE_VARIANTS.JS;\n  }, []);\n  var persistedCodeVariant = React.useMemo(function () {\n    if (false) {\n      return undefined;\n    }\n\n    return getCookie('codeVariant');\n  }, []);\n  /**\n   * we initialize from navigation or cookies. on subsequent renders the store is the\n   * truth\n   */\n\n  var codeVariant = isFirstRender === true ? navigatedCodeVariant || persistedCodeVariant || initialCodeVariant : initialCodeVariant;\n  React.useEffect(function () {\n    if (codeVariant !== initialCodeVariant) {\n      dispatch({\n        type: ACTION_TYPES.OPTIONS_CHANGE,\n        payload: {\n          codeVariant: codeVariant\n        }\n      });\n    }\n  });\n  React.useEffect(function () {\n    document.cookie = \"codeVariant=\".concat(codeVariant, \";path=/;max-age=31536000\");\n  }, [codeVariant]);\n  return codeVariant;\n}\n/**\n * basically just a `useAnalytics` hook.\n * However, it needs the redux store which is created\n * in the same component this \"hook\" is used.\n */\n\n\nfunction Analytics() {\n  React.useEffect(function () {\n    loadScript('https://www.google-analytics.com/analytics.js', document.querySelector('head'));\n  }, []);\n  var options = useSelector(function (state) {\n    return state.options;\n  });\n  var codeVariant = usePersistCodeVariant();\n  React.useEffect(function () {\n    window.ga('set', 'dimension1', codeVariant);\n  }, [codeVariant]);\n  React.useEffect(function () {\n    window.ga('set', 'dimension2', options.userLanguage);\n  }, [options.userLanguage]);\n  React.useEffect(function () {\n    /**\n     * @type {null | MediaQueryList}\n     */\n    var matchMedia = null;\n    /**\n     * Based on https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio#Monitoring_screen_resolution_or_zoom_level_changes\n     * Adjusted to track 3 or more different ratios\n     */\n\n    function trackDevicePixelRation() {\n      window.ga('set', 'dimension3', Math.round(window.devicePixelRatio * 10) / 10);\n      matchMedia = window.matchMedia(\"(resolution: \".concat(window.devicePixelRatio, \"dppx)\")); // Need to setup again.\n      // Otherwise we track only changes from the initial ratio to another.\n      // It would not track 3 or more different monitors/zoom stages\n\n      matchMedia.addListener(trackDevicePixelRation);\n    }\n\n    trackDevicePixelRation();\n    return function () {\n      matchMedia = null;\n    };\n  }, []);\n  return null;\n} // Inspired by\n// https://developers.google.com/web/tools/workbox/guides/advanced-recipes#offer_a_page_reload_for_users\n\n\nfunction forcePageReload(registration) {\n  // console.log('already controlled?', Boolean(navigator.serviceWorker.controller));\n  if (!navigator.serviceWorker.controller) {\n    // The window client isn't currently controlled so it's a new service\n    // worker that will activate immediately.\n    return;\n  } // console.log('registration waiting?', Boolean(registration.waiting));\n\n\n  if (registration.waiting) {\n    // SW is waiting to activate. Can occur if multiple clients open and\n    // one of the clients is refreshed.\n    registration.waiting.postMessage('skipWaiting');\n    return;\n  }\n\n  function listenInstalledStateChange() {\n    registration.installing.addEventListener('statechange', function (event) {\n      // console.log('statechange', event.target.state);\n      if (event.target.state === 'installed' && registration.waiting) {\n        // A new service worker is available, inform the user\n        registration.waiting.postMessage('skipWaiting');\n      } else if (event.target.state === 'activated') {\n        // Force the control of the page by the activated service worker.\n        window.location.reload();\n      }\n    });\n  }\n\n  if (registration.installing) {\n    listenInstalledStateChange();\n    return;\n  } // We are currently controlled so a new SW may be found...\n  // Add a listener in case a new SW is found,\n\n\n  registration.addEventListener('updatefound', listenInstalledStateChange);\n}\n\nfunction registerServiceWorker() {\n  return _registerServiceWorker.apply(this, arguments);\n}\n\nfunction _registerServiceWorker() {\n  _registerServiceWorker = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var registration;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!('serviceWorker' in navigator && false && window.location.host.indexOf('material-ui.com') <= 0)) {\n              _context2.next = 5;\n              break;\n            }\n\n            _context2.next = 3;\n            return navigator.serviceWorker.register('/sw.js');\n\n          case 3:\n            registration = _context2.sent; // Force the page reload for users.\n\n            forcePageReload(registration);\n\n          case 5:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n  return _registerServiceWorker.apply(this, arguments);\n}\n\nvar dependenciesLoaded = false;\n\nfunction loadDependencies() {\n  if (dependenciesLoaded) {\n    return;\n  }\n\n  dependenciesLoaded = true;\n  loadCSS('https://fonts.googleapis.com/icon?family=Material+Icons', document.querySelector('#material-icon-font'));\n}\n\nif (true && false) {\n  // eslint-disable-next-line no-console\n  console.log(\"%c\\n\\n\\u2588\\u2588\\u2588\\u2557   \\u2588\\u2588\\u2588\\u2557 \\u2588\\u2588\\u2588\\u2588\\u2588\\u2557 \\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2557\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2557\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2557 \\u2588\\u2588\\u2557 \\u2588\\u2588\\u2588\\u2588\\u2588\\u2557 \\u2588\\u2588\\u2557      \\u2588\\u2588\\u2557   \\u2588\\u2588\\u2557\\u2588\\u2588\\u2557\\n\\u2588\\u2588\\u2588\\u2588\\u2557 \\u2588\\u2588\\u2588\\u2588\\u2551\\u2588\\u2588\\u2554\\u2550\\u2550\\u2588\\u2588\\u2557\\u255A\\u2550\\u2550\\u2588\\u2588\\u2554\\u2550\\u2550\\u255D\\u2588\\u2588\\u2554\\u2550\\u2550\\u2550\\u2550\\u255D\\u2588\\u2588\\u2554\\u2550\\u2550\\u2588\\u2588\\u2557\\u2588\\u2588\\u2551\\u2588\\u2588\\u2554\\u2550\\u2550\\u2588\\u2588\\u2557\\u2588\\u2588\\u2551      \\u2588\\u2588\\u2551   \\u2588\\u2588\\u2551\\u2588\\u2588\\u2551\\n\\u2588\\u2588\\u2554\\u2588\\u2588\\u2588\\u2588\\u2554\\u2588\\u2588\\u2551\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2551   \\u2588\\u2588\\u2551   \\u2588\\u2588\\u2588\\u2588\\u2588\\u2557  \\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2554\\u255D\\u2588\\u2588\\u2551\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2551\\u2588\\u2588\\u2551\\u2588\\u2588\\u2588\\u2588\\u2588\\u2557\\u2588\\u2588\\u2551   \\u2588\\u2588\\u2551\\u2588\\u2588\\u2551\\n\\u2588\\u2588\\u2551\\u255A\\u2588\\u2588\\u2554\\u255D\\u2588\\u2588\\u2551\\u2588\\u2588\\u2554\\u2550\\u2550\\u2588\\u2588\\u2551   \\u2588\\u2588\\u2551   \\u2588\\u2588\\u2554\\u2550\\u2550\\u255D  \\u2588\\u2588\\u2554\\u2550\\u2550\\u2588\\u2588\\u2557\\u2588\\u2588\\u2551\\u2588\\u2588\\u2554\\u2550\\u2550\\u2588\\u2588\\u2551\\u2588\\u2588\\u2551\\u255A\\u2550\\u2550\\u2550\\u2550\\u255D\\u2588\\u2588\\u2551   \\u2588\\u2588\\u2551\\u2588\\u2588\\u2551\\n\\u2588\\u2588\\u2551 \\u255A\\u2550\\u255D \\u2588\\u2588\\u2551\\u2588\\u2588\\u2551  \\u2588\\u2588\\u2551   \\u2588\\u2588\\u2551   \\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2557\\u2588\\u2588\\u2551  \\u2588\\u2588\\u2551\\u2588\\u2588\\u2551\\u2588\\u2588\\u2551  \\u2588\\u2588\\u2551\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2557 \\u255A\\u2588\\u2588\\u2588\\u2588\\u2588\\u2588\\u2554\\u255D\\u2588\\u2588\\u2551\\n\\u255A\\u2550\\u255D     \\u255A\\u2550\\u255D\\u255A\\u2550\\u255D  \\u255A\\u2550\\u255D   \\u255A\\u2550\\u255D   \\u255A\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u255D\\u255A\\u2550\\u255D  \\u255A\\u2550\\u255D\\u255A\\u2550\\u255D\\u255A\\u2550\\u255D  \\u255A\\u2550\\u255D\\u255A\\u2550\\u2550\\u2550\\u2550\\u2550\\u2550\\u255D  \\u255A\\u2550\\u2550\\u2550\\u2550\\u2550\\u255D \\u255A\\u2550\\u255D\\n\\nTip: you can access the documentation `theme` object directly in the console.\\n\", 'font-family:monospace;color:#1976d2;font-size:12px;');\n}\n\nfunction findActivePage(currentPages, pathname) {\n  var activePage = find(currentPages, function (page) {\n    if (page.children) {\n      if (pathname.indexOf(\"\".concat(page.pathname, \"/\")) === 0) {\n        // Check if one of the children matches (for /components)\n        return findActivePage(page.children, pathname);\n      }\n    } // Should be an exact match if no children\n\n\n    return pathname === page.pathname;\n  });\n\n  if (!activePage) {\n    return null;\n  } // We need to drill down\n\n\n  if (activePage.pathname !== pathname) {\n    return findActivePage(activePage.children, pathname);\n  }\n\n  return activePage;\n}\n\nfunction AppWrapper(props) {\n  var _this = this;\n\n  var children = props.children,\n      pageProps = props.pageProps;\n  var router = useRouter();\n\n  var _React$useState = React.useState(function () {\n    return initRedux({\n      options: {\n        userLanguage: pageProps.userLanguage\n      }\n    });\n  }),\n      redux = _React$useState[0];\n\n  React.useEffect(function () {\n    loadDependencies();\n    registerServiceWorker(); // Remove the server-side injected CSS.\n\n    var jssStyles = document.querySelector('#jss-server-side');\n\n    if (jssStyles) {\n      jssStyles.parentElement.removeChild(jssStyles);\n    }\n  }, []);\n  var pathname = router.pathname; // Add support for leading / in development mode.\n\n  if (pathname !== '/') {\n    // The leading / is only added to support static hosting (resolve /index.html).\n    // We remove it to normalize the pathname.\n    // See `rewriteUrlForNextExport` on Next.js side.\n    pathname = pathname.replace(/\\/$/, '');\n  }\n\n  var activePage = findActivePage(pages, pathname);\n  var fonts = ['https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap'];\n\n  if (pathname.match(/onepirate/)) {\n    fonts = ['https://fonts.googleapis.com/css?family=Roboto+Condensed:700|Work+Sans:300,400&display=swap'];\n  }\n\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 5\n    }\n  }, __jsx(NextHead, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333,\n      columnNumber: 7\n    }\n  }, fonts.map(function (font) {\n    return __jsx(\"link\", {\n      rel: \"stylesheet\",\n      href: font,\n      key: font,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }\n    });\n  })), __jsx(ReduxProvider, {\n    store: redux,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338,\n      columnNumber: 7\n    }\n  }, __jsx(PageContext.Provider, {\n    value: {\n      activePage: activePage,\n      pages: pages,\n      versions: pageProps.versions\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 9\n    }\n  }, __jsx(StylesProvider, {\n    jss: jss,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 11\n    }\n  }, __jsx(ThemeProvider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 13\n    }\n  }, children))), __jsx(LanguageNegotiation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 9\n    }\n  }), __jsx(Analytics, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 9\n    }\n  })), __jsx(GoogleAnalytics, {\n    key: router.route,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }\n  }));\n}\n\nAppWrapper.propTypes = {\n  children: PropTypes.node.isRequired,\n  pageProps: PropTypes.object.isRequired\n};\nexport default function MyApp(props) {\n  var Component = props.Component,\n      pageProps = props.pageProps;\n  return __jsx(AppWrapper, {\n    pageProps: pageProps,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 5\n    }\n  }, __jsx(Component, _extends({}, pageProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 7\n    }\n  })));\n}\nMyApp.propTypes = {\n  Component: PropTypes.elementType.isRequired,\n  pageProps: PropTypes.object.isRequired\n};\n\nMyApp.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref) {\n    var ctx, Component, pageProps;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            ctx = _ref.ctx, Component = _ref.Component;\n            pageProps = {};\n\n            if (!Component.getInitialProps) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 5;\n            return Component.getInitialProps(ctx);\n\n          case 5:\n            pageProps = _context.sent;\n\n          case 6:\n            return _context.abrupt(\"return\", {\n              pageProps: _objectSpread({\n                userLanguage: ctx.query.userLanguage || 'en'\n              }, pageProps)\n            });\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["/home/marcelo.faria/Documentos/b2w/msf-ui/docs/pages/_app.js"],"names":["Provider","jss","create","plugins","jssPreset","rtl","insertionPoint","document","firstRenderRef","React","acceptLanguage","window","loadScript","dispatch","useDispatch","router","useRouter","userLanguage","useSelector","state","loadCrowdin","userLanguageUrl","canonical","pathnameToLanguage","rewriteUrlForNextExport","preferedLanguage","getCookie","navigator","type","ACTION_TYPES","payload","initialCodeVariant","CODE_VARIANTS","isFirstRender","useFirstRender","navigatedCodeVariant","navigatedCodeVariantMatch","persistedCodeVariant","codeVariant","options","usePersistCodeVariant","matchMedia","Math","trackDevicePixelRation","registration","event","listenInstalledStateChange","registerServiceWorker","forcePageReload","dependenciesLoaded","loadCSS","console","activePage","find","page","pathname","findActivePage","children","pageProps","props","redux","initRedux","loadDependencies","jssStyles","fonts","pages","versions","AppWrapper","PropTypes","isRequired","Component","MyApp","ctx"],"mappings":"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","sourcesContent":["/* eslint-disable no-underscore-dangle */\nimport 'docs/src/modules/components/bootstrap';\n// --- Post bootstrap -----\nimport React from 'react';\nimport find from 'lodash/find';\nimport { Provider as ReduxProvider, useDispatch, useSelector } from 'react-redux';\nimport { loadCSS } from 'fg-loadcss/src/loadCSS';\nimport NextHead from 'next/head';\nimport PropTypes from 'prop-types';\nimport acceptLanguage from 'accept-language';\nimport { create } from 'jss';\nimport rtl from 'jss-rtl';\nimport { useRouter } from 'next/router';\nimport { rewriteUrlForNextExport } from 'next/dist/next-server/lib/router/rewrite-url-for-export';\nimport { StylesProvider, jssPreset } from '@material-ui/styles';\nimport pages from 'docs/src/pages';\nimport initRedux from 'docs/src/modules/redux/initRedux';\nimport PageContext from 'docs/src/modules/components/PageContext';\nimport GoogleAnalytics from 'docs/src/modules/components/GoogleAnalytics';\nimport loadScript from 'docs/src/modules/utils/loadScript';\nimport { ThemeProvider } from 'docs/src/modules/components/ThemeContext';\nimport { pathnameToLanguage, getCookie } from 'docs/src/modules/utils/helpers';\nimport { ACTION_TYPES, CODE_VARIANTS } from 'docs/src/modules/constants';\n\n// Configure JSS\nconst jss = create({\n  plugins: [...jssPreset().plugins, rtl()],\n  insertionPoint: process.browser ? document.querySelector('#insertion-point-jss') : null,\n});\n\nfunction useFirstRender() {\n  const firstRenderRef = React.useRef(true);\n  React.useEffect(() => {\n    firstRenderRef.current = false;\n  }, []);\n\n  return firstRenderRef.current;\n}\n\nacceptLanguage.languages(['en', 'zh', 'pt']);\n\nfunction loadCrowdin() {\n  window._jipt = [];\n  window._jipt.push(['project', 'material-ui-docs']);\n  loadScript('https://cdn.crowdin.com/jipt/jipt.js', document.querySelector('head'));\n}\n\nfunction LanguageNegotiation() {\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const userLanguage = useSelector((state) => state.options.userLanguage);\n\n  React.useEffect(() => {\n    if (userLanguage === 'aa') {\n      loadCrowdin();\n    }\n  }, [userLanguage]);\n\n  React.useEffect(() => {\n    const { userLanguage: userLanguageUrl, canonical } = pathnameToLanguage(\n      rewriteUrlForNextExport(router.asPath),\n    );\n    const preferedLanguage =\n      getCookie('userLanguage') !== 'noDefault' && userLanguage === 'en'\n        ? acceptLanguage.get(navigator.language)\n        : userLanguage;\n\n    if (preferedLanguage !== userLanguage) {\n      window.location = preferedLanguage === 'en' ? canonical : `/${preferedLanguage}${canonical}`;\n    } else if (userLanguageUrl !== userLanguage) {\n      dispatch({ type: ACTION_TYPES.OPTIONS_CHANGE, payload: { userLanguage: userLanguageUrl } });\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return null;\n}\n\n/**\n * Priority: on first render: navigated value, persisted value; otherwise initial value, 'JS'\n *\n * @returns {string} - The persisted variant if the initial value is undefined\n */\nfunction usePersistCodeVariant() {\n  const dispatch = useDispatch();\n  const { codeVariant: initialCodeVariant = CODE_VARIANTS.JS } = useSelector(\n    (state) => state.options,\n  );\n\n  const isFirstRender = useFirstRender();\n\n  const navigatedCodeVariant = React.useMemo(() => {\n    const navigatedCodeVariantMatch =\n      typeof window !== 'undefined' ? window.location.hash.match(/\\.(js|tsx)$/) : null;\n\n    if (navigatedCodeVariantMatch === null) {\n      return undefined;\n    }\n\n    return navigatedCodeVariantMatch[1] === 'tsx' ? CODE_VARIANTS.TS : CODE_VARIANTS.JS;\n  }, []);\n\n  const persistedCodeVariant = React.useMemo(() => {\n    if (typeof window === 'undefined') {\n      return undefined;\n    }\n    return getCookie('codeVariant');\n  }, []);\n\n  /**\n   * we initialize from navigation or cookies. on subsequent renders the store is the\n   * truth\n   */\n  const codeVariant =\n    isFirstRender === true\n      ? navigatedCodeVariant || persistedCodeVariant || initialCodeVariant\n      : initialCodeVariant;\n\n  React.useEffect(() => {\n    if (codeVariant !== initialCodeVariant) {\n      dispatch({ type: ACTION_TYPES.OPTIONS_CHANGE, payload: { codeVariant } });\n    }\n  });\n\n  React.useEffect(() => {\n    document.cookie = `codeVariant=${codeVariant};path=/;max-age=31536000`;\n  }, [codeVariant]);\n\n  return codeVariant;\n}\n\n/**\n * basically just a `useAnalytics` hook.\n * However, it needs the redux store which is created\n * in the same component this \"hook\" is used.\n */\nfunction Analytics() {\n  React.useEffect(() => {\n    loadScript('https://www.google-analytics.com/analytics.js', document.querySelector('head'));\n  }, []);\n\n  const options = useSelector((state) => state.options);\n\n  const codeVariant = usePersistCodeVariant();\n  React.useEffect(() => {\n    window.ga('set', 'dimension1', codeVariant);\n  }, [codeVariant]);\n\n  React.useEffect(() => {\n    window.ga('set', 'dimension2', options.userLanguage);\n  }, [options.userLanguage]);\n\n  React.useEffect(() => {\n    /**\n     * @type {null | MediaQueryList}\n     */\n    let matchMedia = null;\n\n    /**\n     * Based on https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio#Monitoring_screen_resolution_or_zoom_level_changes\n     * Adjusted to track 3 or more different ratios\n     */\n    function trackDevicePixelRation() {\n      window.ga('set', 'dimension3', Math.round(window.devicePixelRatio * 10) / 10);\n\n      matchMedia = window.matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`);\n      // Need to setup again.\n      // Otherwise we track only changes from the initial ratio to another.\n      // It would not track 3 or more different monitors/zoom stages\n      matchMedia.addListener(trackDevicePixelRation);\n    }\n\n    trackDevicePixelRation();\n\n    return () => {\n      matchMedia = null;\n    };\n  }, []);\n\n  return null;\n}\n\n// Inspired by\n// https://developers.google.com/web/tools/workbox/guides/advanced-recipes#offer_a_page_reload_for_users\nfunction forcePageReload(registration) {\n  // console.log('already controlled?', Boolean(navigator.serviceWorker.controller));\n\n  if (!navigator.serviceWorker.controller) {\n    // The window client isn't currently controlled so it's a new service\n    // worker that will activate immediately.\n    return;\n  }\n\n  // console.log('registration waiting?', Boolean(registration.waiting));\n  if (registration.waiting) {\n    // SW is waiting to activate. Can occur if multiple clients open and\n    // one of the clients is refreshed.\n    registration.waiting.postMessage('skipWaiting');\n    return;\n  }\n\n  function listenInstalledStateChange() {\n    registration.installing.addEventListener('statechange', (event) => {\n      // console.log('statechange', event.target.state);\n      if (event.target.state === 'installed' && registration.waiting) {\n        // A new service worker is available, inform the user\n        registration.waiting.postMessage('skipWaiting');\n      } else if (event.target.state === 'activated') {\n        // Force the control of the page by the activated service worker.\n        window.location.reload();\n      }\n    });\n  }\n\n  if (registration.installing) {\n    listenInstalledStateChange();\n    return;\n  }\n\n  // We are currently controlled so a new SW may be found...\n  // Add a listener in case a new SW is found,\n  registration.addEventListener('updatefound', listenInstalledStateChange);\n}\n\nasync function registerServiceWorker() {\n  if (\n    'serviceWorker' in navigator &&\n    process.env.NODE_ENV === 'production' &&\n    window.location.host.indexOf('material-ui.com') <= 0\n  ) {\n    // register() automatically attempts to refresh the sw.js.\n    const registration = await navigator.serviceWorker.register('/sw.js');\n    // Force the page reload for users.\n    forcePageReload(registration);\n  }\n}\n\nlet dependenciesLoaded = false;\n\nfunction loadDependencies() {\n  if (dependenciesLoaded) {\n    return;\n  }\n\n  dependenciesLoaded = true;\n\n  loadCSS(\n    'https://fonts.googleapis.com/icon?family=Material+Icons',\n    document.querySelector('#material-icon-font'),\n  );\n}\n\nif (process.browser && process.env.NODE_ENV === 'production') {\n  // eslint-disable-next-line no-console\n  console.log(\n    `%c\n\n███╗   ███╗ █████╗ ████████╗███████╗██████╗ ██╗ █████╗ ██╗      ██╗   ██╗██╗\n████╗ ████║██╔══██╗╚══██╔══╝██╔════╝██╔══██╗██║██╔══██╗██║      ██║   ██║██║\n██╔████╔██║███████║   ██║   █████╗  ██████╔╝██║███████║██║█████╗██║   ██║██║\n██║╚██╔╝██║██╔══██║   ██║   ██╔══╝  ██╔══██╗██║██╔══██║██║╚════╝██║   ██║██║\n██║ ╚═╝ ██║██║  ██║   ██║   ███████╗██║  ██║██║██║  ██║███████╗ ╚██████╔╝██║\n╚═╝     ╚═╝╚═╝  ╚═╝   ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝╚═╝  ╚═╝╚══════╝  ╚═════╝ ╚═╝\n\nTip: you can access the documentation \\`theme\\` object directly in the console.\n`,\n    'font-family:monospace;color:#1976d2;font-size:12px;',\n  );\n}\n\nfunction findActivePage(currentPages, pathname) {\n  const activePage = find(currentPages, (page) => {\n    if (page.children) {\n      if (pathname.indexOf(`${page.pathname}/`) === 0) {\n        // Check if one of the children matches (for /components)\n        return findActivePage(page.children, pathname);\n      }\n    }\n\n    // Should be an exact match if no children\n    return pathname === page.pathname;\n  });\n\n  if (!activePage) {\n    return null;\n  }\n\n  // We need to drill down\n  if (activePage.pathname !== pathname) {\n    return findActivePage(activePage.children, pathname);\n  }\n\n  return activePage;\n}\n\nfunction AppWrapper(props) {\n  const { children, pageProps } = props;\n\n  const router = useRouter();\n  const [redux] = React.useState(() =>\n    initRedux({ options: { userLanguage: pageProps.userLanguage } }),\n  );\n\n  React.useEffect(() => {\n    loadDependencies();\n    registerServiceWorker();\n\n    // Remove the server-side injected CSS.\n    const jssStyles = document.querySelector('#jss-server-side');\n    if (jssStyles) {\n      jssStyles.parentElement.removeChild(jssStyles);\n    }\n  }, []);\n\n  let pathname = router.pathname;\n  // Add support for leading / in development mode.\n  if (pathname !== '/') {\n    // The leading / is only added to support static hosting (resolve /index.html).\n    // We remove it to normalize the pathname.\n    // See `rewriteUrlForNextExport` on Next.js side.\n    pathname = pathname.replace(/\\/$/, '');\n  }\n  const activePage = findActivePage(pages, pathname);\n\n  let fonts = ['https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap'];\n  if (pathname.match(/onepirate/)) {\n    fonts = [\n      'https://fonts.googleapis.com/css?family=Roboto+Condensed:700|Work+Sans:300,400&display=swap',\n    ];\n  }\n\n  return (\n    <React.Fragment>\n      <NextHead>\n        {fonts.map((font) => (\n          <link rel=\"stylesheet\" href={font} key={font} />\n        ))}\n      </NextHead>\n      <ReduxProvider store={redux}>\n        <PageContext.Provider value={{ activePage, pages, versions: pageProps.versions }}>\n          <StylesProvider jss={jss}>\n            <ThemeProvider>{children}</ThemeProvider>\n          </StylesProvider>\n        </PageContext.Provider>\n        <LanguageNegotiation />\n        <Analytics />\n      </ReduxProvider>\n      <GoogleAnalytics key={router.route} />\n    </React.Fragment>\n  );\n}\n\nAppWrapper.propTypes = {\n  children: PropTypes.node.isRequired,\n  pageProps: PropTypes.object.isRequired,\n};\n\nexport default function MyApp(props) {\n  const { Component, pageProps } = props;\n\n  return (\n    <AppWrapper pageProps={pageProps}>\n      <Component {...pageProps} />\n    </AppWrapper>\n  );\n}\n\nMyApp.propTypes = {\n  Component: PropTypes.elementType.isRequired,\n  pageProps: PropTypes.object.isRequired,\n};\n\nMyApp.getInitialProps = async ({ ctx, Component }) => {\n  let pageProps = {};\n\n  if (Component.getInitialProps) {\n    pageProps = await Component.getInitialProps(ctx);\n  }\n\n  return {\n    pageProps: {\n      userLanguage: ctx.query.userLanguage || 'en',\n      ...pageProps,\n    },\n  };\n};\n"]},"metadata":{},"sourceType":"module"}