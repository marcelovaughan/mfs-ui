{"ast":null,"code":"import _objectSpread from \"@babel/runtime-corejs2/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/ThemeContext.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { ThemeProvider as MuiThemeProvider, createMuiTheme as createLegacyModeTheme, unstable_createMuiStrictModeTheme as createStrictModeTheme, darken } from \"../../../../packages/material-ui/src/styles\";\nimport { useSelector } from 'react-redux';\nimport useMediaQuery from \"../../../../packages/material-ui/src/useMediaQuery\";\nimport { enUS, zhCN, faIR, ruRU, ptBR, esES, frFR, deDE, jaJP } from \"../../../../packages/material-ui/src/locale\";\nimport { blue, pink } from \"../../../../packages/material-ui/src/colors\";\nimport { getCookie } from \"../utils/helpers\";\nimport useLazyCSS from \"../utils/useLazyCSS\";\nvar languageMap = {\n  en: enUS,\n  zh: zhCN,\n  fa: faIR,\n  ru: ruRU,\n  pt: ptBR,\n  es: esES,\n  fr: frFR,\n  de: deDE,\n  ja: jaJP\n};\nexport var themeColor = blue[700];\nvar themeInitialOptions = {\n  dense: false,\n  direction: 'ltr',\n  paletteColors: {},\n  spacing: 8 // spacing unit\n\n};\nvar highDensity = {\n  props: {\n    MuiButton: {\n      size: 'small'\n    },\n    MuiFilledInput: {\n      margin: 'dense'\n    },\n    MuiFormControl: {\n      margin: 'dense'\n    },\n    MuiFormHelperText: {\n      margin: 'dense'\n    },\n    MuiIconButton: {\n      size: 'small'\n    },\n    MuiInputBase: {\n      margin: 'dense'\n    },\n    MuiInputLabel: {\n      margin: 'dense'\n    },\n    MuiListItem: {\n      dense: true\n    },\n    MuiOutlinedInput: {\n      margin: 'dense'\n    },\n    MuiFab: {\n      size: 'small'\n    },\n    MuiTable: {\n      size: 'small'\n    },\n    MuiTextField: {\n      margin: 'dense'\n    },\n    MuiToolbar: {\n      variant: 'dense'\n    }\n  },\n  overrides: {\n    MuiIconButton: {\n      sizeSmall: {\n        // minimal touch target hit spacing\n        marginLeft: 4,\n        marginRight: 4,\n        padding: 12\n      }\n    }\n  }\n};\nexport var DispatchContext = React.createContext(function () {\n  throw new Error('Forgot to wrap component in `ThemeProvider`');\n});\n\nif (true) {\n  DispatchContext.displayName = 'ThemeDispatchContext';\n}\n\nvar useEnhancedEffect = false ? React.useEffect : React.useLayoutEffect;\nvar createMuiTheme;\n\nif (process.env.REACT_MODE === 'legacy') {\n  createMuiTheme = createLegacyModeTheme;\n} else {\n  createMuiTheme = createStrictModeTheme;\n}\n\nexport function ThemeProvider(props) {\n  var children = props.children;\n\n  var _React$useReducer = React.useReducer(function (state, action) {\n    switch (action.type) {\n      case 'SET_SPACING':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          spacing: action.payload\n        });\n\n      case 'INCREASE_SPACING':\n        {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            spacing: state.spacing + 1\n          });\n        }\n\n      case 'DECREASE_SPACING':\n        {\n          return _objectSpread(_objectSpread({}, state), {}, {\n            spacing: state.spacing - 1\n          });\n        }\n\n      case 'SET_DENSE':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          dense: action.payload\n        });\n\n      case 'RESET_DENSITY':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          dense: themeInitialOptions.dense,\n          spacing: themeInitialOptions.spacing\n        });\n\n      case 'RESET_COLORS':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          paletteColors: themeInitialOptions.paletteColors\n        });\n\n      case 'CHANGE':\n        return _objectSpread(_objectSpread({}, state), {}, {\n          paletteType: action.payload.paletteType || state.paletteType,\n          direction: action.payload.direction || state.direction,\n          paletteColors: action.payload.paletteColors || state.paletteColors\n        });\n\n      default:\n        throw new Error(\"Unrecognized type \".concat(action.type));\n    }\n  }, themeInitialOptions),\n      themeOptions = _React$useReducer[0],\n      dispatch = _React$useReducer[1];\n\n  var userLanguage = useSelector(function (state) {\n    return state.options.userLanguage;\n  });\n  var prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  var preferredType = prefersDarkMode ? 'dark' : 'light';\n  var dense = themeOptions.dense,\n      direction = themeOptions.direction,\n      paletteColors = themeOptions.paletteColors,\n      _themeOptions$palette = themeOptions.paletteType,\n      paletteType = _themeOptions$palette === void 0 ? preferredType : _themeOptions$palette,\n      spacing = themeOptions.spacing;\n  useLazyCSS('/static/styles/prism-okaidia.css', '#prismjs');\n  React.useEffect(function () {\n    if (true) {\n      var nextPaletteColors = JSON.parse(getCookie('paletteColors') || 'null');\n      var nextPaletteType = getCookie('paletteType');\n      dispatch({\n        type: 'CHANGE',\n        payload: {\n          paletteColors: nextPaletteColors,\n          paletteType: nextPaletteType\n        }\n      });\n    }\n  }, []); // persist paletteType\n\n  React.useEffect(function () {\n    document.cookie = \"paletteType=\".concat(paletteType, \";path=/;max-age=31536000\");\n  }, [paletteType]);\n  useEnhancedEffect(function () {\n    document.body.dir = direction;\n  }, [direction]);\n  var theme = React.useMemo(function () {\n    var nextTheme = createMuiTheme({\n      direction: direction,\n      nprogress: {\n        color: paletteType === 'light' ? '#000' : '#fff'\n      },\n      palette: _objectSpread({\n        primary: {\n          main: paletteType === 'light' ? blue[700] : blue[200]\n        },\n        secondary: {\n          main: paletteType === 'light' ? darken(pink.A400, 0.1) : pink[200]\n        },\n        type: paletteType,\n        background: {\n          \"default\": paletteType === 'light' ? '#fff' : '#121212'\n        }\n      }, paletteColors),\n      spacing: spacing\n    }, dense ? highDensity : null, languageMap[userLanguage]);\n    nextTheme.palette.background.level2 = paletteType === 'light' ? nextTheme.palette.grey[100] : '#333';\n    nextTheme.palette.background.level1 = paletteType === 'light' ? '#fff' : nextTheme.palette.grey[900];\n    return nextTheme;\n  }, [dense, direction, paletteColors, paletteType, spacing, userLanguage]);\n  React.useEffect(function () {\n    // Expose the theme as a global variable so people can play with it.\n    if (true) {\n      window.theme = theme;\n    }\n  }, [theme]);\n  return __jsx(MuiThemeProvider, {\n    theme: theme,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 5\n    }\n  }, __jsx(DispatchContext.Provider, {\n    value: dispatch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }\n  }, children));\n}\nThemeProvider.propTypes = {\n  children: PropTypes.node\n};\n/**\n * @returns {(nextOptions: Partial<typeof themeInitialOptions>) => void}\n */\n\nexport function useChangeTheme() {\n  var dispatch = React.useContext(DispatchContext);\n  return React.useCallback(function (options) {\n    return dispatch({\n      type: 'CHANGE',\n      payload: options\n    });\n  }, [dispatch]);\n}","map":{"version":3,"sources":["/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/ThemeContext.js"],"names":["React","PropTypes","ThemeProvider","MuiThemeProvider","createMuiTheme","createLegacyModeTheme","unstable_createMuiStrictModeTheme","createStrictModeTheme","darken","useSelector","useMediaQuery","enUS","zhCN","faIR","ruRU","ptBR","esES","frFR","deDE","jaJP","blue","pink","getCookie","useLazyCSS","languageMap","en","zh","fa","ru","pt","es","fr","de","ja","themeColor","themeInitialOptions","dense","direction","paletteColors","spacing","highDensity","props","MuiButton","size","MuiFilledInput","margin","MuiFormControl","MuiFormHelperText","MuiIconButton","MuiInputBase","MuiInputLabel","MuiListItem","MuiOutlinedInput","MuiFab","MuiTable","MuiTextField","MuiToolbar","variant","overrides","sizeSmall","marginLeft","marginRight","padding","DispatchContext","createContext","Error","displayName","useEnhancedEffect","useEffect","useLayoutEffect","process","env","REACT_MODE","children","useReducer","state","action","type","payload","paletteType","themeOptions","dispatch","userLanguage","options","prefersDarkMode","preferredType","nextPaletteColors","JSON","parse","nextPaletteType","document","cookie","body","dir","theme","useMemo","nextTheme","nprogress","color","palette","primary","main","secondary","A400","background","level2","grey","level1","window","propTypes","node","useChangeTheme","useContext","useCallback"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  ThemeProvider as MuiThemeProvider,\n  createMuiTheme as createLegacyModeTheme,\n  unstable_createMuiStrictModeTheme as createStrictModeTheme,\n  darken,\n} from '@material-ui/core/styles';\nimport { useSelector } from 'react-redux';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { enUS, zhCN, faIR, ruRU, ptBR, esES, frFR, deDE, jaJP } from '@material-ui/core/locale';\nimport { blue, pink } from '@material-ui/core/colors';\nimport { getCookie } from 'docs/src/modules/utils/helpers';\nimport useLazyCSS from 'docs/src/modules/utils/useLazyCSS';\n\nconst languageMap = {\n  en: enUS,\n  zh: zhCN,\n  fa: faIR,\n  ru: ruRU,\n  pt: ptBR,\n  es: esES,\n  fr: frFR,\n  de: deDE,\n  ja: jaJP,\n};\n\nexport const themeColor = blue[700];\n\nconst themeInitialOptions = {\n  dense: false,\n  direction: 'ltr',\n  paletteColors: {},\n  spacing: 8, // spacing unit\n};\n\nconst highDensity = {\n  props: {\n    MuiButton: {\n      size: 'small',\n    },\n    MuiFilledInput: {\n      margin: 'dense',\n    },\n    MuiFormControl: {\n      margin: 'dense',\n    },\n    MuiFormHelperText: {\n      margin: 'dense',\n    },\n    MuiIconButton: {\n      size: 'small',\n    },\n    MuiInputBase: {\n      margin: 'dense',\n    },\n    MuiInputLabel: {\n      margin: 'dense',\n    },\n    MuiListItem: {\n      dense: true,\n    },\n    MuiOutlinedInput: {\n      margin: 'dense',\n    },\n    MuiFab: {\n      size: 'small',\n    },\n    MuiTable: {\n      size: 'small',\n    },\n    MuiTextField: {\n      margin: 'dense',\n    },\n    MuiToolbar: {\n      variant: 'dense',\n    },\n  },\n  overrides: {\n    MuiIconButton: {\n      sizeSmall: {\n        // minimal touch target hit spacing\n        marginLeft: 4,\n        marginRight: 4,\n        padding: 12,\n      },\n    },\n  },\n};\n\nexport const DispatchContext = React.createContext(() => {\n  throw new Error('Forgot to wrap component in `ThemeProvider`');\n});\n\nif (process.env.NODE_ENV !== 'production') {\n  DispatchContext.displayName = 'ThemeDispatchContext';\n}\n\nconst useEnhancedEffect = typeof window === 'undefined' ? React.useEffect : React.useLayoutEffect;\n\nlet createMuiTheme;\nif (process.env.REACT_MODE === 'legacy') {\n  createMuiTheme = createLegacyModeTheme;\n} else {\n  createMuiTheme = createStrictModeTheme;\n}\n\nexport function ThemeProvider(props) {\n  const { children } = props;\n\n  const [themeOptions, dispatch] = React.useReducer((state, action) => {\n    switch (action.type) {\n      case 'SET_SPACING':\n        return {\n          ...state,\n          spacing: action.payload,\n        };\n      case 'INCREASE_SPACING': {\n        return {\n          ...state,\n          spacing: state.spacing + 1,\n        };\n      }\n      case 'DECREASE_SPACING': {\n        return {\n          ...state,\n          spacing: state.spacing - 1,\n        };\n      }\n      case 'SET_DENSE':\n        return {\n          ...state,\n          dense: action.payload,\n        };\n      case 'RESET_DENSITY':\n        return {\n          ...state,\n          dense: themeInitialOptions.dense,\n          spacing: themeInitialOptions.spacing,\n        };\n      case 'RESET_COLORS':\n        return {\n          ...state,\n          paletteColors: themeInitialOptions.paletteColors,\n        };\n      case 'CHANGE':\n        return {\n          ...state,\n          paletteType: action.payload.paletteType || state.paletteType,\n          direction: action.payload.direction || state.direction,\n          paletteColors: action.payload.paletteColors || state.paletteColors,\n        };\n      default:\n        throw new Error(`Unrecognized type ${action.type}`);\n    }\n  }, themeInitialOptions);\n\n  const userLanguage = useSelector((state) => state.options.userLanguage);\n  const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n  const preferredType = prefersDarkMode ? 'dark' : 'light';\n  const { dense, direction, paletteColors, paletteType = preferredType, spacing } = themeOptions;\n\n  useLazyCSS('/static/styles/prism-okaidia.css', '#prismjs');\n\n  React.useEffect(() => {\n    if (process.browser) {\n      const nextPaletteColors = JSON.parse(getCookie('paletteColors') || 'null');\n      const nextPaletteType = getCookie('paletteType');\n\n      dispatch({\n        type: 'CHANGE',\n        payload: { paletteColors: nextPaletteColors, paletteType: nextPaletteType },\n      });\n    }\n  }, []);\n\n  // persist paletteType\n  React.useEffect(() => {\n    document.cookie = `paletteType=${paletteType};path=/;max-age=31536000`;\n  }, [paletteType]);\n\n  useEnhancedEffect(() => {\n    document.body.dir = direction;\n  }, [direction]);\n\n  const theme = React.useMemo(() => {\n    const nextTheme = createMuiTheme(\n      {\n        direction,\n        nprogress: {\n          color: paletteType === 'light' ? '#000' : '#fff',\n        },\n        palette: {\n          primary: {\n            main: paletteType === 'light' ? blue[700] : blue[200],\n          },\n          secondary: {\n            main: paletteType === 'light' ? darken(pink.A400, 0.1) : pink[200],\n          },\n          type: paletteType,\n          background: {\n            default: paletteType === 'light' ? '#fff' : '#121212',\n          },\n          ...paletteColors,\n        },\n        spacing,\n      },\n      dense ? highDensity : null,\n      languageMap[userLanguage],\n    );\n\n    nextTheme.palette.background.level2 =\n      paletteType === 'light' ? nextTheme.palette.grey[100] : '#333';\n\n    nextTheme.palette.background.level1 =\n      paletteType === 'light' ? '#fff' : nextTheme.palette.grey[900];\n\n    return nextTheme;\n  }, [dense, direction, paletteColors, paletteType, spacing, userLanguage]);\n\n  React.useEffect(() => {\n    // Expose the theme as a global variable so people can play with it.\n    if (process.browser) {\n      window.theme = theme;\n    }\n  }, [theme]);\n\n  return (\n    <MuiThemeProvider theme={theme}>\n      <DispatchContext.Provider value={dispatch}>{children}</DispatchContext.Provider>\n    </MuiThemeProvider>\n  );\n}\n\nThemeProvider.propTypes = {\n  children: PropTypes.node,\n};\n\n/**\n * @returns {(nextOptions: Partial<typeof themeInitialOptions>) => void}\n */\nexport function useChangeTheme() {\n  const dispatch = React.useContext(DispatchContext);\n  return React.useCallback((options) => dispatch({ type: 'CHANGE', payload: options }), [dispatch]);\n}\n"]},"metadata":{},"sourceType":"module"}