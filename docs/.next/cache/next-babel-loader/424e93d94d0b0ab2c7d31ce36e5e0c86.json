{"ast":null,"code":"var _jsxFileName = \"/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/DemoSandboxed.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { create } from 'jss';\nimport { makeStyles, useTheme, jssPreset, StylesProvider } from \"../../../../packages/material-ui/src/styles\";\nimport rtl from 'jss-rtl';\nimport { useSelector } from 'react-redux';\nimport DemoErrorBoundary from \"./DemoErrorBoundary\";\n\nfunction FramedDemo(props) {\n  const {\n    children,\n    document\n  } = props;\n  const theme = useTheme();\n  React.useEffect(() => {\n    document.body.dir = theme.direction;\n  }, [document, theme.direction]);\n  const {\n    jss,\n    sheetsManager\n  } = React.useMemo(() => {\n    return {\n      jss: create({\n        plugins: [...jssPreset().plugins, rtl()],\n        insertionPoint: document.head\n      }),\n      sheetsManager: new Map()\n    };\n  }, [document]);\n  const getWindow = React.useCallback(() => document.defaultView, [document]);\n  return __jsx(StylesProvider, {\n    jss: jss,\n    sheetsManager: sheetsManager,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.cloneElement(children, {\n    window: getWindow\n  }));\n}\n\nFramedDemo.propTypes = {\n  children: PropTypes.node,\n  document: PropTypes.object.isRequired\n};\nconst useStyles = makeStyles(theme => ({\n  frame: {\n    backgroundColor: theme.palette.background.default,\n    flexGrow: 1,\n    height: 400,\n    border: 'none',\n    boxShadow: theme.shadows[1]\n  }\n}), {\n  name: 'DemoFrame'\n});\n\nfunction DemoFrame(props) {\n  var _frameRef$current;\n\n  const {\n    children,\n    title\n  } = props,\n        other = _objectWithoutProperties(props, [\"children\", \"title\"]);\n\n  const classes = useStyles();\n  /**\n   * @type {import('react').Ref<HTMLIFrameElement>}\n   */\n\n  const frameRef = React.useRef(null); // If we portal content into the iframe before the load event then that content\n  // is dropped in firefox.\n\n  const [iframeLoaded, onLoad] = React.useReducer(() => true, false);\n  React.useEffect(() => {\n    const document = frameRef.current.contentDocument; // When we hydrate the iframe then the load event is already dispatched\n    // once the iframe markup is parsed (maybe later but the important part is\n    // that it happens before React can attach event listeners).\n    // We need to check the readyState of the document once the iframe is mounted\n    // and \"replay\" the missed load event.\n    // See https://github.com/facebook/react/pull/13862 for ongoing effort in React\n    // (though not with iframes in mind).\n\n    if (document != null && document.readyState === 'complete' && !iframeLoaded) {\n      onLoad();\n    }\n  }, [iframeLoaded]);\n  const document = (_frameRef$current = frameRef.current) === null || _frameRef$current === void 0 ? void 0 : _frameRef$current.contentDocument;\n  return __jsx(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 5\n    }\n  }, __jsx(\"iframe\", _extends({\n    className: classes.frame,\n    onLoad: onLoad,\n    ref: frameRef,\n    title: title\n  }, other, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  })), iframeLoaded !== false ? /*#__PURE__*/ReactDOM.createPortal(__jsx(FramedDemo, {\n    document: document,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, children), document.body) : null);\n}\n\nDemoFrame.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string.isRequired\n};\n/**\n * Isolates the demo component as best as possible. Additional props are spread\n * to an `iframe` if `iframe={true}`.\n */\n\nfunction DemoSandboxed(props) {\n  const {\n    component: Component,\n    iframe,\n    name,\n    onResetDemoClick\n  } = props,\n        other = _objectWithoutProperties(props, [\"component\", \"iframe\", \"name\", \"onResetDemoClick\"]);\n\n  const Sandbox = iframe ? DemoFrame : React.Fragment;\n  const sandboxProps = iframe ? _objectSpread({\n    title: `${name} demo`\n  }, other) : {};\n  const t = useSelector(state => state.options.t);\n  return __jsx(DemoErrorBoundary, {\n    onResetDemoClick: onResetDemoClick,\n    t: t,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 5\n    }\n  }, __jsx(Sandbox, _extends({}, sandboxProps, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }\n  }), __jsx(Component, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }\n  })));\n}\n\nDemoSandboxed.propTypes = {\n  component: PropTypes.elementType.isRequired,\n  iframe: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  onResetDemoClick: PropTypes.func.isRequired\n};\nexport default /*#__PURE__*/React.memo(DemoSandboxed);","map":{"version":3,"sources":["/home/marcelo.faria/Documentos/b2w/msf-ui/docs/src/modules/components/DemoSandboxed.js"],"names":["React","ReactDOM","PropTypes","create","makeStyles","useTheme","jssPreset","StylesProvider","rtl","useSelector","DemoErrorBoundary","FramedDemo","props","children","document","theme","useEffect","body","dir","direction","jss","sheetsManager","useMemo","plugins","insertionPoint","head","Map","getWindow","useCallback","defaultView","cloneElement","window","propTypes","node","object","isRequired","useStyles","frame","backgroundColor","palette","background","default","flexGrow","height","border","boxShadow","shadows","name","DemoFrame","title","other","classes","frameRef","useRef","iframeLoaded","onLoad","useReducer","current","contentDocument","readyState","createPortal","string","DemoSandboxed","component","Component","iframe","onResetDemoClick","Sandbox","Fragment","sandboxProps","t","state","options","elementType","bool","func","memo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { create } from 'jss';\nimport { makeStyles, useTheme, jssPreset, StylesProvider } from '@material-ui/core/styles';\nimport rtl from 'jss-rtl';\nimport { useSelector } from 'react-redux';\nimport DemoErrorBoundary from 'docs/src/modules/components/DemoErrorBoundary';\n\nfunction FramedDemo(props) {\n  const { children, document } = props;\n\n  const theme = useTheme();\n  React.useEffect(() => {\n    document.body.dir = theme.direction;\n  }, [document, theme.direction]);\n\n  const { jss, sheetsManager } = React.useMemo(() => {\n    return {\n      jss: create({\n        plugins: [...jssPreset().plugins, rtl()],\n        insertionPoint: document.head,\n      }),\n      sheetsManager: new Map(),\n    };\n  }, [document]);\n\n  const getWindow = React.useCallback(() => document.defaultView, [document]);\n\n  return (\n    <StylesProvider jss={jss} sheetsManager={sheetsManager}>\n      {React.cloneElement(children, {\n        window: getWindow,\n      })}\n    </StylesProvider>\n  );\n}\nFramedDemo.propTypes = {\n  children: PropTypes.node,\n  document: PropTypes.object.isRequired,\n};\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    frame: {\n      backgroundColor: theme.palette.background.default,\n      flexGrow: 1,\n      height: 400,\n      border: 'none',\n      boxShadow: theme.shadows[1],\n    },\n  }),\n  { name: 'DemoFrame' },\n);\n\nfunction DemoFrame(props) {\n  const { children, title, ...other } = props;\n  const classes = useStyles();\n  /**\n   * @type {import('react').Ref<HTMLIFrameElement>}\n   */\n  const frameRef = React.useRef(null);\n\n  // If we portal content into the iframe before the load event then that content\n  // is dropped in firefox.\n  const [iframeLoaded, onLoad] = React.useReducer(() => true, false);\n\n  React.useEffect(() => {\n    const document = frameRef.current.contentDocument;\n    // When we hydrate the iframe then the load event is already dispatched\n    // once the iframe markup is parsed (maybe later but the important part is\n    // that it happens before React can attach event listeners).\n    // We need to check the readyState of the document once the iframe is mounted\n    // and \"replay\" the missed load event.\n    // See https://github.com/facebook/react/pull/13862 for ongoing effort in React\n    // (though not with iframes in mind).\n    if (document != null && document.readyState === 'complete' && !iframeLoaded) {\n      onLoad();\n    }\n  }, [iframeLoaded]);\n\n  const document = frameRef.current?.contentDocument;\n  return (\n    <React.Fragment>\n      <iframe className={classes.frame} onLoad={onLoad} ref={frameRef} title={title} {...other} />\n      {iframeLoaded !== false\n        ? ReactDOM.createPortal(\n            <FramedDemo document={document}>{children}</FramedDemo>,\n            document.body,\n          )\n        : null}\n    </React.Fragment>\n  );\n}\n\nDemoFrame.propTypes = {\n  children: PropTypes.node.isRequired,\n  title: PropTypes.string.isRequired,\n};\n\n/**\n * Isolates the demo component as best as possible. Additional props are spread\n * to an `iframe` if `iframe={true}`.\n */\nfunction DemoSandboxed(props) {\n  const { component: Component, iframe, name, onResetDemoClick, ...other } = props;\n  const Sandbox = iframe ? DemoFrame : React.Fragment;\n  const sandboxProps = iframe ? { title: `${name} demo`, ...other } : {};\n\n  const t = useSelector((state) => state.options.t);\n\n  return (\n    <DemoErrorBoundary onResetDemoClick={onResetDemoClick} t={t}>\n      <Sandbox {...sandboxProps}>\n        <Component />\n      </Sandbox>\n    </DemoErrorBoundary>\n  );\n}\n\nDemoSandboxed.propTypes = {\n  component: PropTypes.elementType.isRequired,\n  iframe: PropTypes.bool,\n  name: PropTypes.string.isRequired,\n  onResetDemoClick: PropTypes.func.isRequired,\n};\n\nexport default React.memo(DemoSandboxed);\n"]},"metadata":{},"sourceType":"module"}